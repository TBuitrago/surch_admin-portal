function Zf(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function ep(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var nd={exports:{}},Wi={},sd={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _s=Symbol.for("react.element"),tp=Symbol.for("react.portal"),rp=Symbol.for("react.fragment"),np=Symbol.for("react.strict_mode"),sp=Symbol.for("react.profiler"),ip=Symbol.for("react.provider"),ap=Symbol.for("react.context"),op=Symbol.for("react.forward_ref"),lp=Symbol.for("react.suspense"),up=Symbol.for("react.memo"),cp=Symbol.for("react.lazy"),du=Symbol.iterator;function dp(e){return e===null||typeof e!="object"?null:(e=du&&e[du]||e["@@iterator"],typeof e=="function"?e:null)}var id={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ad=Object.assign,od={};function mn(e,t,r){this.props=e,this.context=t,this.refs=od,this.updater=r||id}mn.prototype.isReactComponent={};mn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};mn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ld(){}ld.prototype=mn.prototype;function al(e,t,r){this.props=e,this.context=t,this.refs=od,this.updater=r||id}var ol=al.prototype=new ld;ol.constructor=al;ad(ol,mn.prototype);ol.isPureReactComponent=!0;var hu=Array.isArray,ud=Object.prototype.hasOwnProperty,ll={current:null},cd={key:!0,ref:!0,__self:!0,__source:!0};function dd(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)ud.call(t,n)&&!cd.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:_s,type:e,key:i,ref:a,props:s,_owner:ll.current}}function hp(e,t){return{$$typeof:_s,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ul(e){return typeof e=="object"&&e!==null&&e.$$typeof===_s}function fp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var fu=/\/+/g;function ha(e,t){return typeof e=="object"&&e!==null&&e.key!=null?fp(""+e.key):t.toString(36)}function Qs(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case _s:case tp:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+ha(a,0):n,hu(s)?(r="",e!=null&&(r=e.replace(fu,"$&/")+"/"),Qs(s,t,r,"",function(u){return u})):s!=null&&(ul(s)&&(s=hp(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(fu,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",hu(e))for(var o=0;o<e.length;o++){i=e[o];var l=n+ha(i,o);a+=Qs(i,t,r,l,s)}else if(l=dp(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=n+ha(i,o++),a+=Qs(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Cs(e,t,r){if(e==null)return e;var n=[],s=0;return Qs(e,n,"","",function(i){return t.call(r,i,s++)}),n}function pp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var je={current:null},Xs={transition:null},mp={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:Xs,ReactCurrentOwner:ll};function hd(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:Cs,forEach:function(e,t,r){Cs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Cs(e,function(){t++}),t},toArray:function(e){return Cs(e,function(t){return t})||[]},only:function(e){if(!ul(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};B.Component=mn;B.Fragment=rp;B.Profiler=sp;B.PureComponent=al;B.StrictMode=np;B.Suspense=lp;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mp;B.act=hd;B.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ad({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=ll.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)ud.call(t,l)&&!cd.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:_s,type:e.type,key:s,ref:i,props:n,_owner:a}};B.createContext=function(e){return e={$$typeof:ap,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ip,_context:e},e.Consumer=e};B.createElement=dd;B.createFactory=function(e){var t=dd.bind(null,e);return t.type=e,t};B.createRef=function(){return{current:null}};B.forwardRef=function(e){return{$$typeof:op,render:e}};B.isValidElement=ul;B.lazy=function(e){return{$$typeof:cp,_payload:{_status:-1,_result:e},_init:pp}};B.memo=function(e,t){return{$$typeof:up,type:e,compare:t===void 0?null:t}};B.startTransition=function(e){var t=Xs.transition;Xs.transition={};try{e()}finally{Xs.transition=t}};B.unstable_act=hd;B.useCallback=function(e,t){return je.current.useCallback(e,t)};B.useContext=function(e){return je.current.useContext(e)};B.useDebugValue=function(){};B.useDeferredValue=function(e){return je.current.useDeferredValue(e)};B.useEffect=function(e,t){return je.current.useEffect(e,t)};B.useId=function(){return je.current.useId()};B.useImperativeHandle=function(e,t,r){return je.current.useImperativeHandle(e,t,r)};B.useInsertionEffect=function(e,t){return je.current.useInsertionEffect(e,t)};B.useLayoutEffect=function(e,t){return je.current.useLayoutEffect(e,t)};B.useMemo=function(e,t){return je.current.useMemo(e,t)};B.useReducer=function(e,t,r){return je.current.useReducer(e,t,r)};B.useRef=function(e){return je.current.useRef(e)};B.useState=function(e){return je.current.useState(e)};B.useSyncExternalStore=function(e,t,r){return je.current.useSyncExternalStore(e,t,r)};B.useTransition=function(){return je.current.useTransition()};B.version="18.3.1";sd.exports=B;var b=sd.exports;const fd=ep(b),gp=Zf({__proto__:null,default:fd},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp=b,yp=Symbol.for("react.element"),wp=Symbol.for("react.fragment"),xp=Object.prototype.hasOwnProperty,_p=vp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bp={key:!0,ref:!0,__self:!0,__source:!0};function pd(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)xp.call(t,n)&&!bp.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:yp,type:e,key:i,ref:a,props:s,_owner:_p.current}}Wi.Fragment=wp;Wi.jsx=pd;Wi.jsxs=pd;nd.exports=Wi;var c=nd.exports,Ya={},md={exports:{}},ze={},gd={exports:{}},vd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,L){var D=N.length;N.push(L);e:for(;0<D;){var J=D-1>>>1,ie=N[J];if(0<s(ie,L))N[J]=L,N[D]=ie,D=J;else break e}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var L=N[0],D=N.pop();if(D!==L){N[0]=D;e:for(var J=0,ie=N.length,tr=ie>>>1;J<tr;){var pt=2*(J+1)-1,rr=N[pt],mt=pt+1,M=N[mt];if(0>s(rr,D))mt<ie&&0>s(M,rr)?(N[J]=M,N[mt]=D,J=mt):(N[J]=rr,N[pt]=D,J=pt);else if(mt<ie&&0>s(M,D))N[J]=M,N[mt]=D,J=mt;else break e}}return L}function s(N,L){var D=N.sortIndex-L.sortIndex;return D!==0?D:N.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],u=[],h=1,f=null,p=3,v=!1,y=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function d(N){for(var L=r(u);L!==null;){if(L.callback===null)n(u);else if(L.startTime<=N)n(u),L.sortIndex=L.expirationTime,t(l,L);else break;L=r(u)}}function _(N){if(w=!1,d(N),!y)if(r(l)!==null)y=!0,Cr(S);else{var L=r(u);L!==null&&_n(_,L.startTime-N)}}function S(N,L){y=!1,w&&(w=!1,g(T),T=-1),v=!0;var D=p;try{for(d(L),f=r(l);f!==null&&(!(f.expirationTime>L)||N&&!P());){var J=f.callback;if(typeof J=="function"){f.callback=null,p=f.priorityLevel;var ie=J(f.expirationTime<=L);L=e.unstable_now(),typeof ie=="function"?f.callback=ie:f===r(l)&&n(l),d(L)}else n(l);f=r(l)}if(f!==null)var tr=!0;else{var pt=r(u);pt!==null&&_n(_,pt.startTime-L),tr=!1}return tr}finally{f=null,p=D,v=!1}}var k=!1,E=null,T=-1,A=5,C=-1;function P(){return!(e.unstable_now()-C<A)}function U(){if(E!==null){var N=e.unstable_now();C=N;var L=!0;try{L=E(!0,N)}finally{L?ee():(k=!1,E=null)}}else k=!1}var ee;if(typeof m=="function")ee=function(){m(U)};else if(typeof MessageChannel<"u"){var ft=new MessageChannel,jr=ft.port2;ft.port1.onmessage=U,ee=function(){jr.postMessage(null)}}else ee=function(){x(U,0)};function Cr(N){E=N,k||(k=!0,ee())}function _n(N,L){T=x(function(){N(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,Cr(S))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(N){switch(p){case 1:case 2:case 3:var L=3;break;default:L=p}var D=p;p=L;try{return N()}finally{p=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,L){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var D=p;p=N;try{return L()}finally{p=D}},e.unstable_scheduleCallback=function(N,L,D){var J=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?J+D:J):D=J,N){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=D+ie,N={id:h++,callback:L,priorityLevel:N,startTime:D,expirationTime:ie,sortIndex:-1},D>J?(N.sortIndex=D,t(u,N),r(l)===null&&N===r(u)&&(w?(g(T),T=-1):w=!0,_n(_,D-J))):(N.sortIndex=ie,t(l,N),y||v||(y=!0,Cr(S))),N},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(N){var L=p;return function(){var D=p;p=L;try{return N.apply(this,arguments)}finally{p=D}}}})(vd);gd.exports=vd;var Sp=gd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp=b,Fe=Sp;function j(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yd=new Set,Jn={};function Sr(e,t){on(e,t),on(e+"Capture",t)}function on(e,t){for(Jn[e]=t,e=0;e<t.length;e++)yd.add(t[e])}var bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qa=Object.prototype.hasOwnProperty,Ep=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pu={},mu={};function jp(e){return Qa.call(mu,e)?!0:Qa.call(pu,e)?!1:Ep.test(e)?mu[e]=!0:(pu[e]=!0,!1)}function Cp(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Tp(e,t,r,n){if(t===null||typeof t>"u"||Cp(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ce(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ye[e]=new Ce(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ye[t]=new Ce(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ye[e]=new Ce(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ye[e]=new Ce(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ye[e]=new Ce(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ye[e]=new Ce(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ye[e]=new Ce(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ye[e]=new Ce(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ye[e]=new Ce(e,5,!1,e.toLowerCase(),null,!1,!1)});var cl=/[\-:]([a-z])/g;function dl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(cl,dl);ye[t]=new Ce(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(cl,dl);ye[t]=new Ce(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(cl,dl);ye[t]=new Ce(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ye[e]=new Ce(e,1,!1,e.toLowerCase(),null,!1,!1)});ye.xlinkHref=new Ce("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ye[e]=new Ce(e,1,!1,e.toLowerCase(),null,!0,!0)});function hl(e,t,r,n){var s=ye.hasOwnProperty(t)?ye[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Tp(t,r,s,n)&&(r=null),n||s===null?jp(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var jt=kp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ts=Symbol.for("react.element"),Br=Symbol.for("react.portal"),Fr=Symbol.for("react.fragment"),fl=Symbol.for("react.strict_mode"),Xa=Symbol.for("react.profiler"),wd=Symbol.for("react.provider"),xd=Symbol.for("react.context"),pl=Symbol.for("react.forward_ref"),Za=Symbol.for("react.suspense"),eo=Symbol.for("react.suspense_list"),ml=Symbol.for("react.memo"),Pt=Symbol.for("react.lazy"),_d=Symbol.for("react.offscreen"),gu=Symbol.iterator;function Sn(e){return e===null||typeof e!="object"?null:(e=gu&&e[gu]||e["@@iterator"],typeof e=="function"?e:null)}var Z=Object.assign,fa;function An(e){if(fa===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);fa=t&&t[1]||""}return`
`+fa+e}var pa=!1;function ma(e,t){if(!e||pa)return"";pa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{pa=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?An(e):""}function Np(e){switch(e.tag){case 5:return An(e.type);case 16:return An("Lazy");case 13:return An("Suspense");case 19:return An("SuspenseList");case 0:case 2:case 15:return e=ma(e.type,!1),e;case 11:return e=ma(e.type.render,!1),e;case 1:return e=ma(e.type,!0),e;default:return""}}function to(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fr:return"Fragment";case Br:return"Portal";case Xa:return"Profiler";case fl:return"StrictMode";case Za:return"Suspense";case eo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case xd:return(e.displayName||"Context")+".Consumer";case wd:return(e._context.displayName||"Context")+".Provider";case pl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ml:return t=e.displayName||null,t!==null?t:to(e.type)||"Memo";case Pt:t=e._payload,e=e._init;try{return to(e(t))}catch{}}return null}function Op(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return to(t);case 8:return t===fl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Pp(e){var t=bd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ns(e){e._valueTracker||(e._valueTracker=Pp(e))}function Sd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=bd(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ro(e,t){var r=t.checked;return Z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function vu(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Jt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function kd(e,t){t=t.checked,t!=null&&hl(e,"checked",t,!1)}function no(e,t){kd(e,t);var r=Jt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?so(e,t.type,r):t.hasOwnProperty("defaultValue")&&so(e,t.type,Jt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function yu(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function so(e,t,r){(t!=="number"||ci(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var In=Array.isArray;function Zr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Jt(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function io(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(j(91));return Z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function wu(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(j(92));if(In(r)){if(1<r.length)throw Error(j(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Jt(r)}}function Ed(e,t){var r=Jt(t.value),n=Jt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function xu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function jd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ao(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?jd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Os,Cd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Os=Os||document.createElement("div"),Os.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Os.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Yn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Dn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rp=["Webkit","ms","Moz","O"];Object.keys(Dn).forEach(function(e){Rp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Dn[t]=Dn[e]})});function Td(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Dn.hasOwnProperty(e)&&Dn[e]?(""+t).trim():t+"px"}function Nd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Td(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Ap=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oo(e,t){if(t){if(Ap[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(j(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(j(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(j(61))}if(t.style!=null&&typeof t.style!="object")throw Error(j(62))}}function lo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uo=null;function gl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var co=null,en=null,tn=null;function _u(e){if(e=ks(e)){if(typeof co!="function")throw Error(j(280));var t=e.stateNode;t&&(t=Gi(t),co(e.stateNode,e.type,t))}}function Od(e){en?tn?tn.push(e):tn=[e]:en=e}function Pd(){if(en){var e=en,t=tn;if(tn=en=null,_u(e),t)for(e=0;e<t.length;e++)_u(t[e])}}function Rd(e,t){return e(t)}function Ad(){}var ga=!1;function Id(e,t,r){if(ga)return e(t,r);ga=!0;try{return Rd(e,t,r)}finally{ga=!1,(en!==null||tn!==null)&&(Ad(),Pd())}}function Qn(e,t){var r=e.stateNode;if(r===null)return null;var n=Gi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(j(231,t,typeof r));return r}var ho=!1;if(bt)try{var kn={};Object.defineProperty(kn,"passive",{get:function(){ho=!0}}),window.addEventListener("test",kn,kn),window.removeEventListener("test",kn,kn)}catch{ho=!1}function Ip(e,t,r,n,s,i,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(h){this.onError(h)}}var Mn=!1,di=null,hi=!1,fo=null,$p={onError:function(e){Mn=!0,di=e}};function Up(e,t,r,n,s,i,a,o,l){Mn=!1,di=null,Ip.apply($p,arguments)}function Lp(e,t,r,n,s,i,a,o,l){if(Up.apply(this,arguments),Mn){if(Mn){var u=di;Mn=!1,di=null}else throw Error(j(198));hi||(hi=!0,fo=u)}}function kr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function $d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function bu(e){if(kr(e)!==e)throw Error(j(188))}function Dp(e){var t=e.alternate;if(!t){if(t=kr(e),t===null)throw Error(j(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return bu(s),e;if(i===n)return bu(s),t;i=i.sibling}throw Error(j(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(j(189))}}if(r.alternate!==n)throw Error(j(190))}if(r.tag!==3)throw Error(j(188));return r.stateNode.current===r?e:t}function Ud(e){return e=Dp(e),e!==null?Ld(e):null}function Ld(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ld(e);if(t!==null)return t;e=e.sibling}return null}var Dd=Fe.unstable_scheduleCallback,Su=Fe.unstable_cancelCallback,Mp=Fe.unstable_shouldYield,Bp=Fe.unstable_requestPaint,ne=Fe.unstable_now,Fp=Fe.unstable_getCurrentPriorityLevel,vl=Fe.unstable_ImmediatePriority,Md=Fe.unstable_UserBlockingPriority,fi=Fe.unstable_NormalPriority,zp=Fe.unstable_LowPriority,Bd=Fe.unstable_IdlePriority,Vi=null,ct=null;function Wp(e){if(ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(Vi,e,void 0,(e.current.flags&128)===128)}catch{}}var st=Math.clz32?Math.clz32:qp,Vp=Math.log,Hp=Math.LN2;function qp(e){return e>>>=0,e===0?32:31-(Vp(e)/Hp|0)|0}var Ps=64,Rs=4194304;function $n(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pi(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=$n(o):(i&=a,i!==0&&(n=$n(i)))}else a=r&~s,a!==0?n=$n(a):i!==0&&(n=$n(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-st(t),s=1<<r,n|=e[r],t&=~s;return n}function Kp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gp(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-st(i),o=1<<a,l=s[a];l===-1?(!(o&r)||o&n)&&(s[a]=Kp(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function po(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Fd(){var e=Ps;return Ps<<=1,!(Ps&4194240)&&(Ps=64),e}function va(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function bs(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-st(t),e[t]=r}function Jp(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-st(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function yl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-st(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var W=0;function zd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Wd,wl,Vd,Hd,qd,mo=!1,As=[],Bt=null,Ft=null,zt=null,Xn=new Map,Zn=new Map,It=[],Yp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ku(e,t){switch(e){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":Ft=null;break;case"mouseover":case"mouseout":zt=null;break;case"pointerover":case"pointerout":Xn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zn.delete(t.pointerId)}}function En(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ks(t),t!==null&&wl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Qp(e,t,r,n,s){switch(t){case"focusin":return Bt=En(Bt,e,t,r,n,s),!0;case"dragenter":return Ft=En(Ft,e,t,r,n,s),!0;case"mouseover":return zt=En(zt,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Xn.set(i,En(Xn.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Zn.set(i,En(Zn.get(i)||null,e,t,r,n,s)),!0}return!1}function Kd(e){var t=dr(e.target);if(t!==null){var r=kr(t);if(r!==null){if(t=r.tag,t===13){if(t=$d(r),t!==null){e.blockedOn=t,qd(e.priority,function(){Vd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=go(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);uo=n,r.target.dispatchEvent(n),uo=null}else return t=ks(r),t!==null&&wl(t),e.blockedOn=r,!1;t.shift()}return!0}function Eu(e,t,r){Zs(e)&&r.delete(t)}function Xp(){mo=!1,Bt!==null&&Zs(Bt)&&(Bt=null),Ft!==null&&Zs(Ft)&&(Ft=null),zt!==null&&Zs(zt)&&(zt=null),Xn.forEach(Eu),Zn.forEach(Eu)}function jn(e,t){e.blockedOn===t&&(e.blockedOn=null,mo||(mo=!0,Fe.unstable_scheduleCallback(Fe.unstable_NormalPriority,Xp)))}function es(e){function t(s){return jn(s,e)}if(0<As.length){jn(As[0],e);for(var r=1;r<As.length;r++){var n=As[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Bt!==null&&jn(Bt,e),Ft!==null&&jn(Ft,e),zt!==null&&jn(zt,e),Xn.forEach(t),Zn.forEach(t),r=0;r<It.length;r++)n=It[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<It.length&&(r=It[0],r.blockedOn===null);)Kd(r),r.blockedOn===null&&It.shift()}var rn=jt.ReactCurrentBatchConfig,mi=!0;function Zp(e,t,r,n){var s=W,i=rn.transition;rn.transition=null;try{W=1,xl(e,t,r,n)}finally{W=s,rn.transition=i}}function em(e,t,r,n){var s=W,i=rn.transition;rn.transition=null;try{W=4,xl(e,t,r,n)}finally{W=s,rn.transition=i}}function xl(e,t,r,n){if(mi){var s=go(e,t,r,n);if(s===null)Ca(e,t,n,gi,r),ku(e,n);else if(Qp(s,e,t,r,n))n.stopPropagation();else if(ku(e,n),t&4&&-1<Yp.indexOf(e)){for(;s!==null;){var i=ks(s);if(i!==null&&Wd(i),i=go(e,t,r,n),i===null&&Ca(e,t,n,gi,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Ca(e,t,n,null,r)}}var gi=null;function go(e,t,r,n){if(gi=null,e=gl(n),e=dr(e),e!==null)if(t=kr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=$d(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return gi=e,null}function Gd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fp()){case vl:return 1;case Md:return 4;case fi:case zp:return 16;case Bd:return 536870912;default:return 16}default:return 16}}var Lt=null,_l=null,ei=null;function Jd(){if(ei)return ei;var e,t=_l,r=t.length,n,s="value"in Lt?Lt.value:Lt.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return ei=s.slice(e,1<n?1-n:void 0)}function ti(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Is(){return!0}function ju(){return!1}function We(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Is:ju,this.isPropagationStopped=ju,this}return Z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Is)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Is)},persist:function(){},isPersistent:Is}),t}var gn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bl=We(gn),Ss=Z({},gn,{view:0,detail:0}),tm=We(Ss),ya,wa,Cn,Hi=Z({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cn&&(Cn&&e.type==="mousemove"?(ya=e.screenX-Cn.screenX,wa=e.screenY-Cn.screenY):wa=ya=0,Cn=e),ya)},movementY:function(e){return"movementY"in e?e.movementY:wa}}),Cu=We(Hi),rm=Z({},Hi,{dataTransfer:0}),nm=We(rm),sm=Z({},Ss,{relatedTarget:0}),xa=We(sm),im=Z({},gn,{animationName:0,elapsedTime:0,pseudoElement:0}),am=We(im),om=Z({},gn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lm=We(om),um=Z({},gn,{data:0}),Tu=We(um),cm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hm[e])?!!t[e]:!1}function Sl(){return fm}var pm=Z({},Ss,{key:function(e){if(e.key){var t=cm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ti(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?dm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sl,charCode:function(e){return e.type==="keypress"?ti(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ti(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mm=We(pm),gm=Z({},Hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nu=We(gm),vm=Z({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sl}),ym=We(vm),wm=Z({},gn,{propertyName:0,elapsedTime:0,pseudoElement:0}),xm=We(wm),_m=Z({},Hi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bm=We(_m),Sm=[9,13,27,32],kl=bt&&"CompositionEvent"in window,Bn=null;bt&&"documentMode"in document&&(Bn=document.documentMode);var km=bt&&"TextEvent"in window&&!Bn,Yd=bt&&(!kl||Bn&&8<Bn&&11>=Bn),Ou=" ",Pu=!1;function Qd(e,t){switch(e){case"keyup":return Sm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zr=!1;function Em(e,t){switch(e){case"compositionend":return Xd(t);case"keypress":return t.which!==32?null:(Pu=!0,Ou);case"textInput":return e=t.data,e===Ou&&Pu?null:e;default:return null}}function jm(e,t){if(zr)return e==="compositionend"||!kl&&Qd(e,t)?(e=Jd(),ei=_l=Lt=null,zr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yd&&t.locale!=="ko"?null:t.data;default:return null}}var Cm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ru(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Cm[e.type]:t==="textarea"}function Zd(e,t,r,n){Od(n),t=vi(t,"onChange"),0<t.length&&(r=new bl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Fn=null,ts=null;function Tm(e){ch(e,0)}function qi(e){var t=Hr(e);if(Sd(t))return e}function Nm(e,t){if(e==="change")return t}var eh=!1;if(bt){var _a;if(bt){var ba="oninput"in document;if(!ba){var Au=document.createElement("div");Au.setAttribute("oninput","return;"),ba=typeof Au.oninput=="function"}_a=ba}else _a=!1;eh=_a&&(!document.documentMode||9<document.documentMode)}function Iu(){Fn&&(Fn.detachEvent("onpropertychange",th),ts=Fn=null)}function th(e){if(e.propertyName==="value"&&qi(ts)){var t=[];Zd(t,ts,e,gl(e)),Id(Tm,t)}}function Om(e,t,r){e==="focusin"?(Iu(),Fn=t,ts=r,Fn.attachEvent("onpropertychange",th)):e==="focusout"&&Iu()}function Pm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qi(ts)}function Rm(e,t){if(e==="click")return qi(t)}function Am(e,t){if(e==="input"||e==="change")return qi(t)}function Im(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var at=typeof Object.is=="function"?Object.is:Im;function rs(e,t){if(at(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Qa.call(t,s)||!at(e[s],t[s]))return!1}return!0}function $u(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Uu(e,t){var r=$u(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$u(r)}}function rh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nh(){for(var e=window,t=ci();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ci(e.document)}return t}function El(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $m(e){var t=nh(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&rh(r.ownerDocument.documentElement,r)){if(n!==null&&El(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Uu(r,i);var a=Uu(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Um=bt&&"documentMode"in document&&11>=document.documentMode,Wr=null,vo=null,zn=null,yo=!1;function Lu(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;yo||Wr==null||Wr!==ci(n)||(n=Wr,"selectionStart"in n&&El(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),zn&&rs(zn,n)||(zn=n,n=vi(vo,"onSelect"),0<n.length&&(t=new bl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Wr)))}function $s(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Vr={animationend:$s("Animation","AnimationEnd"),animationiteration:$s("Animation","AnimationIteration"),animationstart:$s("Animation","AnimationStart"),transitionend:$s("Transition","TransitionEnd")},Sa={},sh={};bt&&(sh=document.createElement("div").style,"AnimationEvent"in window||(delete Vr.animationend.animation,delete Vr.animationiteration.animation,delete Vr.animationstart.animation),"TransitionEvent"in window||delete Vr.transitionend.transition);function Ki(e){if(Sa[e])return Sa[e];if(!Vr[e])return e;var t=Vr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in sh)return Sa[e]=t[r];return e}var ih=Ki("animationend"),ah=Ki("animationiteration"),oh=Ki("animationstart"),lh=Ki("transitionend"),uh=new Map,Du="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qt(e,t){uh.set(e,t),Sr(t,[e])}for(var ka=0;ka<Du.length;ka++){var Ea=Du[ka],Lm=Ea.toLowerCase(),Dm=Ea[0].toUpperCase()+Ea.slice(1);Qt(Lm,"on"+Dm)}Qt(ih,"onAnimationEnd");Qt(ah,"onAnimationIteration");Qt(oh,"onAnimationStart");Qt("dblclick","onDoubleClick");Qt("focusin","onFocus");Qt("focusout","onBlur");Qt(lh,"onTransitionEnd");on("onMouseEnter",["mouseout","mouseover"]);on("onMouseLeave",["mouseout","mouseover"]);on("onPointerEnter",["pointerout","pointerover"]);on("onPointerLeave",["pointerout","pointerover"]);Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Un="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Un));function Mu(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Lp(n,t,void 0,e),e.currentTarget=null}function ch(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;Mu(s,o,u),i=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;Mu(s,o,u),i=l}}}if(hi)throw e=fo,hi=!1,fo=null,e}function q(e,t){var r=t[So];r===void 0&&(r=t[So]=new Set);var n=e+"__bubble";r.has(n)||(dh(t,e,2,!1),r.add(n))}function ja(e,t,r){var n=0;t&&(n|=4),dh(r,e,n,t)}var Us="_reactListening"+Math.random().toString(36).slice(2);function ns(e){if(!e[Us]){e[Us]=!0,yd.forEach(function(r){r!=="selectionchange"&&(Mm.has(r)||ja(r,!1,e),ja(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Us]||(t[Us]=!0,ja("selectionchange",!1,t))}}function dh(e,t,r,n){switch(Gd(t)){case 1:var s=Zp;break;case 4:s=em;break;default:s=xl}r=s.bind(null,t,r,e),s=void 0,!ho||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Ca(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=dr(o),a===null)return;if(l=a.tag,l===5||l===6){n=i=a;continue e}o=o.parentNode}}n=n.return}Id(function(){var u=i,h=gl(r),f=[];e:{var p=uh.get(e);if(p!==void 0){var v=bl,y=e;switch(e){case"keypress":if(ti(r)===0)break e;case"keydown":case"keyup":v=mm;break;case"focusin":y="focus",v=xa;break;case"focusout":y="blur",v=xa;break;case"beforeblur":case"afterblur":v=xa;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Cu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=nm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=ym;break;case ih:case ah:case oh:v=am;break;case lh:v=xm;break;case"scroll":v=tm;break;case"wheel":v=bm;break;case"copy":case"cut":case"paste":v=lm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Nu}var w=(t&4)!==0,x=!w&&e==="scroll",g=w?p!==null?p+"Capture":null:p;w=[];for(var m=u,d;m!==null;){d=m;var _=d.stateNode;if(d.tag===5&&_!==null&&(d=_,g!==null&&(_=Qn(m,g),_!=null&&w.push(ss(m,_,d)))),x)break;m=m.return}0<w.length&&(p=new v(p,y,null,r,h),f.push({event:p,listeners:w}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",p&&r!==uo&&(y=r.relatedTarget||r.fromElement)&&(dr(y)||y[St]))break e;if((v||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,v?(y=r.relatedTarget||r.toElement,v=u,y=y?dr(y):null,y!==null&&(x=kr(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=u),v!==y)){if(w=Cu,_="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(w=Nu,_="onPointerLeave",g="onPointerEnter",m="pointer"),x=v==null?p:Hr(v),d=y==null?p:Hr(y),p=new w(_,m+"leave",v,r,h),p.target=x,p.relatedTarget=d,_=null,dr(h)===u&&(w=new w(g,m+"enter",y,r,h),w.target=d,w.relatedTarget=x,_=w),x=_,v&&y)t:{for(w=v,g=y,m=0,d=w;d;d=Tr(d))m++;for(d=0,_=g;_;_=Tr(_))d++;for(;0<m-d;)w=Tr(w),m--;for(;0<d-m;)g=Tr(g),d--;for(;m--;){if(w===g||g!==null&&w===g.alternate)break t;w=Tr(w),g=Tr(g)}w=null}else w=null;v!==null&&Bu(f,p,v,w,!1),y!==null&&x!==null&&Bu(f,x,y,w,!0)}}e:{if(p=u?Hr(u):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var S=Nm;else if(Ru(p))if(eh)S=Am;else{S=Pm;var k=Om}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=Rm);if(S&&(S=S(e,u))){Zd(f,S,r,h);break e}k&&k(e,p,u),e==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&so(p,"number",p.value)}switch(k=u?Hr(u):window,e){case"focusin":(Ru(k)||k.contentEditable==="true")&&(Wr=k,vo=u,zn=null);break;case"focusout":zn=vo=Wr=null;break;case"mousedown":yo=!0;break;case"contextmenu":case"mouseup":case"dragend":yo=!1,Lu(f,r,h);break;case"selectionchange":if(Um)break;case"keydown":case"keyup":Lu(f,r,h)}var E;if(kl)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else zr?Qd(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(Yd&&r.locale!=="ko"&&(zr||T!=="onCompositionStart"?T==="onCompositionEnd"&&zr&&(E=Jd()):(Lt=h,_l="value"in Lt?Lt.value:Lt.textContent,zr=!0)),k=vi(u,T),0<k.length&&(T=new Tu(T,e,null,r,h),f.push({event:T,listeners:k}),E?T.data=E:(E=Xd(r),E!==null&&(T.data=E)))),(E=km?Em(e,r):jm(e,r))&&(u=vi(u,"onBeforeInput"),0<u.length&&(h=new Tu("onBeforeInput","beforeinput",null,r,h),f.push({event:h,listeners:u}),h.data=E))}ch(f,t)})}function ss(e,t,r){return{instance:e,listener:t,currentTarget:r}}function vi(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Qn(e,r),i!=null&&n.unshift(ss(e,i,s)),i=Qn(e,t),i!=null&&n.push(ss(e,i,s))),e=e.return}return n}function Tr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bu(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,s?(l=Qn(r,i),l!=null&&a.unshift(ss(r,l,o))):s||(l=Qn(r,i),l!=null&&a.push(ss(r,l,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var Bm=/\r\n?/g,Fm=/\u0000|\uFFFD/g;function Fu(e){return(typeof e=="string"?e:""+e).replace(Bm,`
`).replace(Fm,"")}function Ls(e,t,r){if(t=Fu(t),Fu(e)!==t&&r)throw Error(j(425))}function yi(){}var wo=null,xo=null;function _o(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bo=typeof setTimeout=="function"?setTimeout:void 0,zm=typeof clearTimeout=="function"?clearTimeout:void 0,zu=typeof Promise=="function"?Promise:void 0,Wm=typeof queueMicrotask=="function"?queueMicrotask:typeof zu<"u"?function(e){return zu.resolve(null).then(e).catch(Vm)}:bo;function Vm(e){setTimeout(function(){throw e})}function Ta(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),es(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);es(t)}function Wt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Wu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var vn=Math.random().toString(36).slice(2),ut="__reactFiber$"+vn,is="__reactProps$"+vn,St="__reactContainer$"+vn,So="__reactEvents$"+vn,Hm="__reactListeners$"+vn,qm="__reactHandles$"+vn;function dr(e){var t=e[ut];if(t)return t;for(var r=e.parentNode;r;){if(t=r[St]||r[ut]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Wu(e);e!==null;){if(r=e[ut])return r;e=Wu(e)}return t}e=r,r=e.parentNode}return null}function ks(e){return e=e[ut]||e[St],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(j(33))}function Gi(e){return e[is]||null}var ko=[],qr=-1;function Xt(e){return{current:e}}function K(e){0>qr||(e.current=ko[qr],ko[qr]=null,qr--)}function H(e,t){qr++,ko[qr]=e.current,e.current=t}var Yt={},be=Xt(Yt),Re=Xt(!1),vr=Yt;function ln(e,t){var r=e.type.contextTypes;if(!r)return Yt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ae(e){return e=e.childContextTypes,e!=null}function wi(){K(Re),K(be)}function Vu(e,t,r){if(be.current!==Yt)throw Error(j(168));H(be,t),H(Re,r)}function hh(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(j(108,Op(e)||"Unknown",s));return Z({},r,n)}function xi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yt,vr=be.current,H(be,e),H(Re,Re.current),!0}function Hu(e,t,r){var n=e.stateNode;if(!n)throw Error(j(169));r?(e=hh(e,t,vr),n.__reactInternalMemoizedMergedChildContext=e,K(Re),K(be),H(be,e)):K(Re),H(Re,r)}var yt=null,Ji=!1,Na=!1;function fh(e){yt===null?yt=[e]:yt.push(e)}function Km(e){Ji=!0,fh(e)}function Zt(){if(!Na&&yt!==null){Na=!0;var e=0,t=W;try{var r=yt;for(W=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}yt=null,Ji=!1}catch(s){throw yt!==null&&(yt=yt.slice(e+1)),Dd(vl,Zt),s}finally{W=t,Na=!1}}return null}var Kr=[],Gr=0,_i=null,bi=0,Ve=[],He=0,yr=null,wt=1,xt="";function ir(e,t){Kr[Gr++]=bi,Kr[Gr++]=_i,_i=e,bi=t}function ph(e,t,r){Ve[He++]=wt,Ve[He++]=xt,Ve[He++]=yr,yr=e;var n=wt;e=xt;var s=32-st(n)-1;n&=~(1<<s),r+=1;var i=32-st(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,wt=1<<32-st(t)+s|r<<s|n,xt=i+e}else wt=1<<i|r<<s|n,xt=e}function jl(e){e.return!==null&&(ir(e,1),ph(e,1,0))}function Cl(e){for(;e===_i;)_i=Kr[--Gr],Kr[Gr]=null,bi=Kr[--Gr],Kr[Gr]=null;for(;e===yr;)yr=Ve[--He],Ve[He]=null,xt=Ve[--He],Ve[He]=null,wt=Ve[--He],Ve[He]=null}var Be=null,Me=null,G=!1,nt=null;function mh(e,t){var r=qe(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function qu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Be=e,Me=Wt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Be=e,Me=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=yr!==null?{id:wt,overflow:xt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=qe(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Be=e,Me=null,!0):!1;default:return!1}}function Eo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function jo(e){if(G){var t=Me;if(t){var r=t;if(!qu(e,t)){if(Eo(e))throw Error(j(418));t=Wt(r.nextSibling);var n=Be;t&&qu(e,t)?mh(n,r):(e.flags=e.flags&-4097|2,G=!1,Be=e)}}else{if(Eo(e))throw Error(j(418));e.flags=e.flags&-4097|2,G=!1,Be=e}}}function Ku(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Be=e}function Ds(e){if(e!==Be)return!1;if(!G)return Ku(e),G=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!_o(e.type,e.memoizedProps)),t&&(t=Me)){if(Eo(e))throw gh(),Error(j(418));for(;t;)mh(e,t),t=Wt(t.nextSibling)}if(Ku(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Me=Wt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Me=null}}else Me=Be?Wt(e.stateNode.nextSibling):null;return!0}function gh(){for(var e=Me;e;)e=Wt(e.nextSibling)}function un(){Me=Be=null,G=!1}function Tl(e){nt===null?nt=[e]:nt.push(e)}var Gm=jt.ReactCurrentBatchConfig;function Tn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(j(309));var n=r.stateNode}if(!n)throw Error(j(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(j(284));if(!r._owner)throw Error(j(290,e))}return e}function Ms(e,t){throw e=Object.prototype.toString.call(t),Error(j(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gu(e){var t=e._init;return t(e._payload)}function vh(e){function t(g,m){if(e){var d=g.deletions;d===null?(g.deletions=[m],g.flags|=16):d.push(m)}}function r(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function n(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=Kt(g,m),g.index=0,g.sibling=null,g}function i(g,m,d){return g.index=d,e?(d=g.alternate,d!==null?(d=d.index,d<m?(g.flags|=2,m):d):(g.flags|=2,m)):(g.flags|=1048576,m)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,m,d,_){return m===null||m.tag!==6?(m=Ua(d,g.mode,_),m.return=g,m):(m=s(m,d),m.return=g,m)}function l(g,m,d,_){var S=d.type;return S===Fr?h(g,m,d.props.children,_,d.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Pt&&Gu(S)===m.type)?(_=s(m,d.props),_.ref=Tn(g,m,d),_.return=g,_):(_=li(d.type,d.key,d.props,null,g.mode,_),_.ref=Tn(g,m,d),_.return=g,_)}function u(g,m,d,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==d.containerInfo||m.stateNode.implementation!==d.implementation?(m=La(d,g.mode,_),m.return=g,m):(m=s(m,d.children||[]),m.return=g,m)}function h(g,m,d,_,S){return m===null||m.tag!==7?(m=gr(d,g.mode,_,S),m.return=g,m):(m=s(m,d),m.return=g,m)}function f(g,m,d){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Ua(""+m,g.mode,d),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ts:return d=li(m.type,m.key,m.props,null,g.mode,d),d.ref=Tn(g,null,m),d.return=g,d;case Br:return m=La(m,g.mode,d),m.return=g,m;case Pt:var _=m._init;return f(g,_(m._payload),d)}if(In(m)||Sn(m))return m=gr(m,g.mode,d,null),m.return=g,m;Ms(g,m)}return null}function p(g,m,d,_){var S=m!==null?m.key:null;if(typeof d=="string"&&d!==""||typeof d=="number")return S!==null?null:o(g,m,""+d,_);if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Ts:return d.key===S?l(g,m,d,_):null;case Br:return d.key===S?u(g,m,d,_):null;case Pt:return S=d._init,p(g,m,S(d._payload),_)}if(In(d)||Sn(d))return S!==null?null:h(g,m,d,_,null);Ms(g,d)}return null}function v(g,m,d,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(d)||null,o(m,g,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ts:return g=g.get(_.key===null?d:_.key)||null,l(m,g,_,S);case Br:return g=g.get(_.key===null?d:_.key)||null,u(m,g,_,S);case Pt:var k=_._init;return v(g,m,d,k(_._payload),S)}if(In(_)||Sn(_))return g=g.get(d)||null,h(m,g,_,S,null);Ms(m,_)}return null}function y(g,m,d,_){for(var S=null,k=null,E=m,T=m=0,A=null;E!==null&&T<d.length;T++){E.index>T?(A=E,E=null):A=E.sibling;var C=p(g,E,d[T],_);if(C===null){E===null&&(E=A);break}e&&E&&C.alternate===null&&t(g,E),m=i(C,m,T),k===null?S=C:k.sibling=C,k=C,E=A}if(T===d.length)return r(g,E),G&&ir(g,T),S;if(E===null){for(;T<d.length;T++)E=f(g,d[T],_),E!==null&&(m=i(E,m,T),k===null?S=E:k.sibling=E,k=E);return G&&ir(g,T),S}for(E=n(g,E);T<d.length;T++)A=v(E,g,T,d[T],_),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?T:A.key),m=i(A,m,T),k===null?S=A:k.sibling=A,k=A);return e&&E.forEach(function(P){return t(g,P)}),G&&ir(g,T),S}function w(g,m,d,_){var S=Sn(d);if(typeof S!="function")throw Error(j(150));if(d=S.call(d),d==null)throw Error(j(151));for(var k=S=null,E=m,T=m=0,A=null,C=d.next();E!==null&&!C.done;T++,C=d.next()){E.index>T?(A=E,E=null):A=E.sibling;var P=p(g,E,C.value,_);if(P===null){E===null&&(E=A);break}e&&E&&P.alternate===null&&t(g,E),m=i(P,m,T),k===null?S=P:k.sibling=P,k=P,E=A}if(C.done)return r(g,E),G&&ir(g,T),S;if(E===null){for(;!C.done;T++,C=d.next())C=f(g,C.value,_),C!==null&&(m=i(C,m,T),k===null?S=C:k.sibling=C,k=C);return G&&ir(g,T),S}for(E=n(g,E);!C.done;T++,C=d.next())C=v(E,g,T,C.value,_),C!==null&&(e&&C.alternate!==null&&E.delete(C.key===null?T:C.key),m=i(C,m,T),k===null?S=C:k.sibling=C,k=C);return e&&E.forEach(function(U){return t(g,U)}),G&&ir(g,T),S}function x(g,m,d,_){if(typeof d=="object"&&d!==null&&d.type===Fr&&d.key===null&&(d=d.props.children),typeof d=="object"&&d!==null){switch(d.$$typeof){case Ts:e:{for(var S=d.key,k=m;k!==null;){if(k.key===S){if(S=d.type,S===Fr){if(k.tag===7){r(g,k.sibling),m=s(k,d.props.children),m.return=g,g=m;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Pt&&Gu(S)===k.type){r(g,k.sibling),m=s(k,d.props),m.ref=Tn(g,k,d),m.return=g,g=m;break e}r(g,k);break}else t(g,k);k=k.sibling}d.type===Fr?(m=gr(d.props.children,g.mode,_,d.key),m.return=g,g=m):(_=li(d.type,d.key,d.props,null,g.mode,_),_.ref=Tn(g,m,d),_.return=g,g=_)}return a(g);case Br:e:{for(k=d.key;m!==null;){if(m.key===k)if(m.tag===4&&m.stateNode.containerInfo===d.containerInfo&&m.stateNode.implementation===d.implementation){r(g,m.sibling),m=s(m,d.children||[]),m.return=g,g=m;break e}else{r(g,m);break}else t(g,m);m=m.sibling}m=La(d,g.mode,_),m.return=g,g=m}return a(g);case Pt:return k=d._init,x(g,m,k(d._payload),_)}if(In(d))return y(g,m,d,_);if(Sn(d))return w(g,m,d,_);Ms(g,d)}return typeof d=="string"&&d!==""||typeof d=="number"?(d=""+d,m!==null&&m.tag===6?(r(g,m.sibling),m=s(m,d),m.return=g,g=m):(r(g,m),m=Ua(d,g.mode,_),m.return=g,g=m),a(g)):r(g,m)}return x}var cn=vh(!0),yh=vh(!1),Si=Xt(null),ki=null,Jr=null,Nl=null;function Ol(){Nl=Jr=ki=null}function Pl(e){var t=Si.current;K(Si),e._currentValue=t}function Co(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function nn(e,t){ki=e,Nl=Jr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pe=!0),e.firstContext=null)}function Je(e){var t=e._currentValue;if(Nl!==e)if(e={context:e,memoizedValue:t,next:null},Jr===null){if(ki===null)throw Error(j(308));Jr=e,ki.dependencies={lanes:0,firstContext:e}}else Jr=Jr.next=e;return t}var hr=null;function Rl(e){hr===null?hr=[e]:hr.push(e)}function wh(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Rl(t)):(r.next=s.next,s.next=r),t.interleaved=r,kt(e,n)}function kt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Rt=!1;function Al(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,F&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,kt(e,r)}return s=n.interleaved,s===null?(t.next=t,Rl(n)):(t.next=s.next,s.next=t),n.interleaved=t,kt(e,r)}function ri(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,yl(e,r)}}function Ju(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ei(e,t,r,n){var s=e.updateQueue;Rt=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;a=0,h=u=l=null,o=i;do{var p=o.lane,v=o.eventTime;if((n&p)===p){h!==null&&(h=h.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,w=o;switch(p=t,v=r,w.tag){case 1:if(y=w.payload,typeof y=="function"){f=y.call(v,f,p);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,p=typeof y=="function"?y.call(v,f,p):y,p==null)break e;f=Z({},f,p);break e;case 2:Rt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[o]:p.push(o))}else v={eventTime:v,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=v,l=f):h=h.next=v,a|=p;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;p=o,o=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);xr|=a,e.lanes=a,e.memoizedState=f}}function Yu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(j(191,s));s.call(n)}}}var Es={},dt=Xt(Es),as=Xt(Es),os=Xt(Es);function fr(e){if(e===Es)throw Error(j(174));return e}function Il(e,t){switch(H(os,t),H(as,e),H(dt,Es),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ao(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ao(t,e)}K(dt),H(dt,t)}function dn(){K(dt),K(as),K(os)}function _h(e){fr(os.current);var t=fr(dt.current),r=ao(t,e.type);t!==r&&(H(as,e),H(dt,r))}function $l(e){as.current===e&&(K(dt),K(as))}var Q=Xt(0);function ji(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Oa=[];function Ul(){for(var e=0;e<Oa.length;e++)Oa[e]._workInProgressVersionPrimary=null;Oa.length=0}var ni=jt.ReactCurrentDispatcher,Pa=jt.ReactCurrentBatchConfig,wr=0,X=null,ue=null,he=null,Ci=!1,Wn=!1,ls=0,Jm=0;function we(){throw Error(j(321))}function Ll(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!at(e[r],t[r]))return!1;return!0}function Dl(e,t,r,n,s,i){if(wr=i,X=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ni.current=e===null||e.memoizedState===null?Zm:eg,e=r(n,s),Wn){i=0;do{if(Wn=!1,ls=0,25<=i)throw Error(j(301));i+=1,he=ue=null,t.updateQueue=null,ni.current=tg,e=r(n,s)}while(Wn)}if(ni.current=Ti,t=ue!==null&&ue.next!==null,wr=0,he=ue=X=null,Ci=!1,t)throw Error(j(300));return e}function Ml(){var e=ls!==0;return ls=0,e}function lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?X.memoizedState=he=e:he=he.next=e,he}function Ye(){if(ue===null){var e=X.alternate;e=e!==null?e.memoizedState:null}else e=ue.next;var t=he===null?X.memoizedState:he.next;if(t!==null)he=t,ue=e;else{if(e===null)throw Error(j(310));ue=e,e={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},he===null?X.memoizedState=he=e:he=he.next=e}return he}function us(e,t){return typeof t=="function"?t(e):t}function Ra(e){var t=Ye(),r=t.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=e;var n=ue,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,l=null,u=i;do{var h=u.lane;if((wr&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,a=n):l=l.next=f,X.lanes|=h,xr|=h}u=u.next}while(u!==null&&u!==i);l===null?a=n:l.next=o,at(n,t.memoizedState)||(Pe=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,X.lanes|=i,xr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Aa(e){var t=Ye(),r=t.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);at(i,t.memoizedState)||(Pe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function bh(){}function Sh(e,t){var r=X,n=Ye(),s=t(),i=!at(n.memoizedState,s);if(i&&(n.memoizedState=s,Pe=!0),n=n.queue,Bl(jh.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||he!==null&&he.memoizedState.tag&1){if(r.flags|=2048,cs(9,Eh.bind(null,r,n,s,t),void 0,null),fe===null)throw Error(j(349));wr&30||kh(r,t,s)}return s}function kh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=X.updateQueue,t===null?(t={lastEffect:null,stores:null},X.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Eh(e,t,r,n){t.value=r,t.getSnapshot=n,Ch(t)&&Th(e)}function jh(e,t,r){return r(function(){Ch(t)&&Th(e)})}function Ch(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!at(e,r)}catch{return!0}}function Th(e){var t=kt(e,1);t!==null&&it(t,e,1,-1)}function Qu(e){var t=lt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:e},t.queue=e,e=e.dispatch=Xm.bind(null,X,e),[t.memoizedState,e]}function cs(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=X.updateQueue,t===null?(t={lastEffect:null,stores:null},X.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Nh(){return Ye().memoizedState}function si(e,t,r,n){var s=lt();X.flags|=e,s.memoizedState=cs(1|t,r,void 0,n===void 0?null:n)}function Yi(e,t,r,n){var s=Ye();n=n===void 0?null:n;var i=void 0;if(ue!==null){var a=ue.memoizedState;if(i=a.destroy,n!==null&&Ll(n,a.deps)){s.memoizedState=cs(t,r,i,n);return}}X.flags|=e,s.memoizedState=cs(1|t,r,i,n)}function Xu(e,t){return si(8390656,8,e,t)}function Bl(e,t){return Yi(2048,8,e,t)}function Oh(e,t){return Yi(4,2,e,t)}function Ph(e,t){return Yi(4,4,e,t)}function Rh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ah(e,t,r){return r=r!=null?r.concat([e]):null,Yi(4,4,Rh.bind(null,t,e),r)}function Fl(){}function Ih(e,t){var r=Ye();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ll(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function $h(e,t){var r=Ye();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ll(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Uh(e,t,r){return wr&21?(at(r,t)||(r=Fd(),X.lanes|=r,xr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pe=!0),e.memoizedState=r)}function Ym(e,t){var r=W;W=r!==0&&4>r?r:4,e(!0);var n=Pa.transition;Pa.transition={};try{e(!1),t()}finally{W=r,Pa.transition=n}}function Lh(){return Ye().memoizedState}function Qm(e,t,r){var n=qt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Dh(e))Mh(t,r);else if(r=wh(e,t,r,n),r!==null){var s=Ee();it(r,e,n,s),Bh(r,t,n)}}function Xm(e,t,r){var n=qt(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Dh(e))Mh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,at(o,a)){var l=t.interleaved;l===null?(s.next=s,Rl(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=wh(e,t,s,n),r!==null&&(s=Ee(),it(r,e,n,s),Bh(r,t,n))}}function Dh(e){var t=e.alternate;return e===X||t!==null&&t===X}function Mh(e,t){Wn=Ci=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Bh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,yl(e,r)}}var Ti={readContext:Je,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useInsertionEffect:we,useLayoutEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useMutableSource:we,useSyncExternalStore:we,useId:we,unstable_isNewReconciler:!1},Zm={readContext:Je,useCallback:function(e,t){return lt().memoizedState=[e,t===void 0?null:t],e},useContext:Je,useEffect:Xu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,si(4194308,4,Rh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return si(4194308,4,e,t)},useInsertionEffect:function(e,t){return si(4,2,e,t)},useMemo:function(e,t){var r=lt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=lt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Qm.bind(null,X,e),[n.memoizedState,e]},useRef:function(e){var t=lt();return e={current:e},t.memoizedState=e},useState:Qu,useDebugValue:Fl,useDeferredValue:function(e){return lt().memoizedState=e},useTransition:function(){var e=Qu(!1),t=e[0];return e=Ym.bind(null,e[1]),lt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=X,s=lt();if(G){if(r===void 0)throw Error(j(407));r=r()}else{if(r=t(),fe===null)throw Error(j(349));wr&30||kh(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Xu(jh.bind(null,n,i,e),[e]),n.flags|=2048,cs(9,Eh.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=lt(),t=fe.identifierPrefix;if(G){var r=xt,n=wt;r=(n&~(1<<32-st(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ls++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Jm++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eg={readContext:Je,useCallback:Ih,useContext:Je,useEffect:Bl,useImperativeHandle:Ah,useInsertionEffect:Oh,useLayoutEffect:Ph,useMemo:$h,useReducer:Ra,useRef:Nh,useState:function(){return Ra(us)},useDebugValue:Fl,useDeferredValue:function(e){var t=Ye();return Uh(t,ue.memoizedState,e)},useTransition:function(){var e=Ra(us)[0],t=Ye().memoizedState;return[e,t]},useMutableSource:bh,useSyncExternalStore:Sh,useId:Lh,unstable_isNewReconciler:!1},tg={readContext:Je,useCallback:Ih,useContext:Je,useEffect:Bl,useImperativeHandle:Ah,useInsertionEffect:Oh,useLayoutEffect:Ph,useMemo:$h,useReducer:Aa,useRef:Nh,useState:function(){return Aa(us)},useDebugValue:Fl,useDeferredValue:function(e){var t=Ye();return ue===null?t.memoizedState=e:Uh(t,ue.memoizedState,e)},useTransition:function(){var e=Aa(us)[0],t=Ye().memoizedState;return[e,t]},useMutableSource:bh,useSyncExternalStore:Sh,useId:Lh,unstable_isNewReconciler:!1};function Ze(e,t){if(e&&e.defaultProps){t=Z({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function To(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Z({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Qi={isMounted:function(e){return(e=e._reactInternals)?kr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ee(),s=qt(e),i=_t(n,s);i.payload=t,r!=null&&(i.callback=r),t=Vt(e,i,s),t!==null&&(it(t,e,s,n),ri(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ee(),s=qt(e),i=_t(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Vt(e,i,s),t!==null&&(it(t,e,s,n),ri(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ee(),n=qt(e),s=_t(r,n);s.tag=2,t!=null&&(s.callback=t),t=Vt(e,s,n),t!==null&&(it(t,e,n,r),ri(t,e,n))}};function Zu(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!rs(r,n)||!rs(s,i):!0}function Fh(e,t,r){var n=!1,s=Yt,i=t.contextType;return typeof i=="object"&&i!==null?i=Je(i):(s=Ae(t)?vr:be.current,n=t.contextTypes,i=(n=n!=null)?ln(e,s):Yt),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Qi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function ec(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Qi.enqueueReplaceState(t,t.state,null)}function No(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Al(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Je(i):(i=Ae(t)?vr:be.current,s.context=ln(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(To(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Qi.enqueueReplaceState(s,s.state,null),Ei(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function hn(e,t){try{var r="",n=t;do r+=Np(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ia(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Oo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var rg=typeof WeakMap=="function"?WeakMap:Map;function zh(e,t,r){r=_t(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Oi||(Oi=!0,Bo=n),Oo(e,t)},r}function Wh(e,t,r){r=_t(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Oo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Oo(e,t),typeof n!="function"&&(Ht===null?Ht=new Set([this]):Ht.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function tc(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new rg;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=gg.bind(null,e,t,r),t.then(e,e))}function rc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function nc(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=_t(-1,1),t.tag=2,Vt(r,t,1))),r.lanes|=1),e)}var ng=jt.ReactCurrentOwner,Pe=!1;function ke(e,t,r,n){t.child=e===null?yh(t,null,r,n):cn(t,e.child,r,n)}function sc(e,t,r,n,s){r=r.render;var i=t.ref;return nn(t,s),n=Dl(e,t,r,n,i,s),r=Ml(),e!==null&&!Pe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Et(e,t,s)):(G&&r&&jl(t),t.flags|=1,ke(e,t,n,s),t.child)}function ic(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Jl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Vh(e,t,i,n,s)):(e=li(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:rs,r(a,n)&&e.ref===t.ref)return Et(e,t,s)}return t.flags|=1,e=Kt(i,n),e.ref=t.ref,e.return=t,t.child=e}function Vh(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(rs(i,n)&&e.ref===t.ref)if(Pe=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Pe=!0);else return t.lanes=e.lanes,Et(e,t,s)}return Po(e,t,r,n,s)}function Hh(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},H(Qr,Ue),Ue|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,H(Qr,Ue),Ue|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,H(Qr,Ue),Ue|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,H(Qr,Ue),Ue|=n;return ke(e,t,s,r),t.child}function qh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Po(e,t,r,n,s){var i=Ae(r)?vr:be.current;return i=ln(t,i),nn(t,s),r=Dl(e,t,r,n,i,s),n=Ml(),e!==null&&!Pe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Et(e,t,s)):(G&&n&&jl(t),t.flags|=1,ke(e,t,r,s),t.child)}function ac(e,t,r,n,s){if(Ae(r)){var i=!0;xi(t)}else i=!1;if(nn(t,s),t.stateNode===null)ii(e,t),Fh(t,r,n),No(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Je(u):(u=Ae(r)?vr:be.current,u=ln(t,u));var h=r.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&ec(t,a,n,u),Rt=!1;var p=t.memoizedState;a.state=p,Ei(t,n,a,s),l=t.memoizedState,o!==n||p!==l||Re.current||Rt?(typeof h=="function"&&(To(t,r,h,n),l=t.memoizedState),(o=Rt||Zu(t,r,o,n,p,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,xh(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Ze(t.type,o),a.props=u,f=t.pendingProps,p=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Je(l):(l=Ae(r)?vr:be.current,l=ln(t,l));var v=r.getDerivedStateFromProps;(h=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||p!==l)&&ec(t,a,n,l),Rt=!1,p=t.memoizedState,a.state=p,Ei(t,n,a,s);var y=t.memoizedState;o!==f||p!==y||Re.current||Rt?(typeof v=="function"&&(To(t,r,v,n),y=t.memoizedState),(u=Rt||Zu(t,r,u,n,p,y,l)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,y,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),a.props=n,a.state=y,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Ro(e,t,r,n,i,s)}function Ro(e,t,r,n,s,i){qh(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&Hu(t,r,!1),Et(e,t,i);n=t.stateNode,ng.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=cn(t,e.child,null,i),t.child=cn(t,null,o,i)):ke(e,t,o,i),t.memoizedState=n.state,s&&Hu(t,r,!0),t.child}function Kh(e){var t=e.stateNode;t.pendingContext?Vu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Vu(e,t.context,!1),Il(e,t.containerInfo)}function oc(e,t,r,n,s){return un(),Tl(s),t.flags|=256,ke(e,t,r,n),t.child}var Ao={dehydrated:null,treeContext:null,retryLane:0};function Io(e){return{baseLanes:e,cachePool:null,transitions:null}}function Gh(e,t,r){var n=t.pendingProps,s=Q.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),H(Q,s&1),e===null)return jo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=ea(a,n,0,null),e=gr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Io(r),t.memoizedState=Ao,e):zl(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return sg(e,t,a,n,o,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,o=s.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Kt(s,l),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Kt(o,i):(i=gr(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?Io(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=Ao,n}return i=e.child,e=i.sibling,n=Kt(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function zl(e,t){return t=ea({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Bs(e,t,r,n){return n!==null&&Tl(n),cn(t,e.child,null,r),e=zl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sg(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=Ia(Error(j(422))),Bs(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=ea({mode:"visible",children:n.children},s,0,null),i=gr(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&cn(t,e.child,null,a),t.child.memoizedState=Io(a),t.memoizedState=Ao,i);if(!(t.mode&1))return Bs(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(j(419)),n=Ia(i,n,void 0),Bs(e,t,a,n)}if(o=(a&e.childLanes)!==0,Pe||o){if(n=fe,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,kt(e,s),it(n,e,s,-1))}return Gl(),n=Ia(Error(j(421))),Bs(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=vg.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Me=Wt(s.nextSibling),Be=t,G=!0,nt=null,e!==null&&(Ve[He++]=wt,Ve[He++]=xt,Ve[He++]=yr,wt=e.id,xt=e.overflow,yr=t),t=zl(t,n.children),t.flags|=4096,t)}function lc(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Co(e.return,t,r)}function $a(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Jh(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(ke(e,t,n.children,r),n=Q.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lc(e,r,t);else if(e.tag===19)lc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(H(Q,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&ji(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),$a(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ji(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}$a(t,!0,r,null,i);break;case"together":$a(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ii(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Et(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),xr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(j(153));if(t.child!==null){for(e=t.child,r=Kt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Kt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function ig(e,t,r){switch(t.tag){case 3:Kh(t),un();break;case 5:_h(t);break;case 1:Ae(t.type)&&xi(t);break;case 4:Il(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;H(Si,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(H(Q,Q.current&1),t.flags|=128,null):r&t.child.childLanes?Gh(e,t,r):(H(Q,Q.current&1),e=Et(e,t,r),e!==null?e.sibling:null);H(Q,Q.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Jh(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),H(Q,Q.current),n)break;return null;case 22:case 23:return t.lanes=0,Hh(e,t,r)}return Et(e,t,r)}var Yh,$o,Qh,Xh;Yh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};$o=function(){};Qh=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,fr(dt.current);var i=null;switch(r){case"input":s=ro(e,s),n=ro(e,n),i=[];break;case"select":s=Z({},s,{value:void 0}),n=Z({},n,{value:void 0}),i=[];break;case"textarea":s=io(e,s),n=io(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=yi)}oo(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Jn.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(o=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Jn.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&q("scroll",e),i||o===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Xh=function(e,t,r,n){r!==n&&(t.flags|=4)};function Nn(e,t){if(!G)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function ag(e,t,r){var n=t.pendingProps;switch(Cl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(t),null;case 1:return Ae(t.type)&&wi(),xe(t),null;case 3:return n=t.stateNode,dn(),K(Re),K(be),Ul(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ds(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,nt!==null&&(Wo(nt),nt=null))),$o(e,t),xe(t),null;case 5:$l(t);var s=fr(os.current);if(r=t.type,e!==null&&t.stateNode!=null)Qh(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(j(166));return xe(t),null}if(e=fr(dt.current),Ds(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ut]=t,n[is]=i,e=(t.mode&1)!==0,r){case"dialog":q("cancel",n),q("close",n);break;case"iframe":case"object":case"embed":q("load",n);break;case"video":case"audio":for(s=0;s<Un.length;s++)q(Un[s],n);break;case"source":q("error",n);break;case"img":case"image":case"link":q("error",n),q("load",n);break;case"details":q("toggle",n);break;case"input":vu(n,i),q("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},q("invalid",n);break;case"textarea":wu(n,i),q("invalid",n)}oo(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Ls(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Ls(n.textContent,o,e),s=["children",""+o]):Jn.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&q("scroll",n)}switch(r){case"input":Ns(n),yu(n,i,!0);break;case"textarea":Ns(n),xu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=yi)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[ut]=t,e[is]=n,Yh(e,t,!1,!1),t.stateNode=e;e:{switch(a=lo(r,n),r){case"dialog":q("cancel",e),q("close",e),s=n;break;case"iframe":case"object":case"embed":q("load",e),s=n;break;case"video":case"audio":for(s=0;s<Un.length;s++)q(Un[s],e);s=n;break;case"source":q("error",e),s=n;break;case"img":case"image":case"link":q("error",e),q("load",e),s=n;break;case"details":q("toggle",e),s=n;break;case"input":vu(e,n),s=ro(e,n),q("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Z({},n,{value:void 0}),q("invalid",e);break;case"textarea":wu(e,n),s=io(e,n),q("invalid",e);break;default:s=n}oo(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?Nd(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Cd(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Yn(e,l):typeof l=="number"&&Yn(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Jn.hasOwnProperty(i)?l!=null&&i==="onScroll"&&q("scroll",e):l!=null&&hl(e,i,l,a))}switch(r){case"input":Ns(e),yu(e,n,!1);break;case"textarea":Ns(e),xu(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Jt(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Zr(e,!!n.multiple,i,!1):n.defaultValue!=null&&Zr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=yi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xe(t),null;case 6:if(e&&t.stateNode!=null)Xh(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(j(166));if(r=fr(os.current),fr(dt.current),Ds(t)){if(n=t.stateNode,r=t.memoizedProps,n[ut]=t,(i=n.nodeValue!==r)&&(e=Be,e!==null))switch(e.tag){case 3:Ls(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ls(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ut]=t,t.stateNode=n}return xe(t),null;case 13:if(K(Q),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(G&&Me!==null&&t.mode&1&&!(t.flags&128))gh(),un(),t.flags|=98560,i=!1;else if(i=Ds(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(j(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(j(317));i[ut]=t}else un(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xe(t),i=!1}else nt!==null&&(Wo(nt),nt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Q.current&1?ce===0&&(ce=3):Gl())),t.updateQueue!==null&&(t.flags|=4),xe(t),null);case 4:return dn(),$o(e,t),e===null&&ns(t.stateNode.containerInfo),xe(t),null;case 10:return Pl(t.type._context),xe(t),null;case 17:return Ae(t.type)&&wi(),xe(t),null;case 19:if(K(Q),i=t.memoizedState,i===null)return xe(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)Nn(i,!1);else{if(ce!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=ji(e),a!==null){for(t.flags|=128,Nn(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return H(Q,Q.current&1|2),t.child}e=e.sibling}i.tail!==null&&ne()>fn&&(t.flags|=128,n=!0,Nn(i,!1),t.lanes=4194304)}else{if(!n)if(e=ji(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Nn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!G)return xe(t),null}else 2*ne()-i.renderingStartTime>fn&&r!==1073741824&&(t.flags|=128,n=!0,Nn(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ne(),t.sibling=null,r=Q.current,H(Q,n?r&1|2:r&1),t):(xe(t),null);case 22:case 23:return Kl(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ue&1073741824&&(xe(t),t.subtreeFlags&6&&(t.flags|=8192)):xe(t),null;case 24:return null;case 25:return null}throw Error(j(156,t.tag))}function og(e,t){switch(Cl(t),t.tag){case 1:return Ae(t.type)&&wi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return dn(),K(Re),K(be),Ul(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $l(t),null;case 13:if(K(Q),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(j(340));un()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return K(Q),null;case 4:return dn(),null;case 10:return Pl(t.type._context),null;case 22:case 23:return Kl(),null;case 24:return null;default:return null}}var Fs=!1,_e=!1,lg=typeof WeakSet=="function"?WeakSet:Set,O=null;function Yr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){re(e,t,n)}else r.current=null}function Uo(e,t,r){try{r()}catch(n){re(e,t,n)}}var uc=!1;function ug(e,t){if(wo=mi,e=nh(),El(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,h=0,f=e,p=null;t:for(;;){for(var v;f!==r||s!==0&&f.nodeType!==3||(o=a+s),f!==i||n!==0&&f.nodeType!==3||(l=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(v=f.firstChild)!==null;)p=f,f=v;for(;;){if(f===e)break t;if(p===r&&++u===s&&(o=a),p===i&&++h===n&&(l=a),(v=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=v}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(xo={focusedElem:e,selectionRange:r},mi=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,x=y.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?w:Ze(t.type,w),x);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var d=t.stateNode.containerInfo;d.nodeType===1?d.textContent="":d.nodeType===9&&d.documentElement&&d.removeChild(d.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(_){re(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return y=uc,uc=!1,y}function Vn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Uo(t,r,i)}s=s.next}while(s!==n)}}function Xi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Lo(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Zh(e){var t=e.alternate;t!==null&&(e.alternate=null,Zh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ut],delete t[is],delete t[So],delete t[Hm],delete t[qm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ef(e){return e.tag===5||e.tag===3||e.tag===4}function cc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ef(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Do(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=yi));else if(n!==4&&(e=e.child,e!==null))for(Do(e,t,r),e=e.sibling;e!==null;)Do(e,t,r),e=e.sibling}function Mo(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Mo(e,t,r),e=e.sibling;e!==null;)Mo(e,t,r),e=e.sibling}var ge=null,tt=!1;function Nt(e,t,r){for(r=r.child;r!==null;)tf(e,t,r),r=r.sibling}function tf(e,t,r){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(Vi,r)}catch{}switch(r.tag){case 5:_e||Yr(r,t);case 6:var n=ge,s=tt;ge=null,Nt(e,t,r),ge=n,tt=s,ge!==null&&(tt?(e=ge,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ge.removeChild(r.stateNode));break;case 18:ge!==null&&(tt?(e=ge,r=r.stateNode,e.nodeType===8?Ta(e.parentNode,r):e.nodeType===1&&Ta(e,r),es(e)):Ta(ge,r.stateNode));break;case 4:n=ge,s=tt,ge=r.stateNode.containerInfo,tt=!0,Nt(e,t,r),ge=n,tt=s;break;case 0:case 11:case 14:case 15:if(!_e&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Uo(r,t,a),s=s.next}while(s!==n)}Nt(e,t,r);break;case 1:if(!_e&&(Yr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){re(r,t,o)}Nt(e,t,r);break;case 21:Nt(e,t,r);break;case 22:r.mode&1?(_e=(n=_e)||r.memoizedState!==null,Nt(e,t,r),_e=n):Nt(e,t,r);break;default:Nt(e,t,r)}}function dc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new lg),t.forEach(function(n){var s=yg.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Qe(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:ge=o.stateNode,tt=!1;break e;case 3:ge=o.stateNode.containerInfo,tt=!0;break e;case 4:ge=o.stateNode.containerInfo,tt=!0;break e}o=o.return}if(ge===null)throw Error(j(160));tf(i,a,s),ge=null,tt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){re(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rf(t,e),t=t.sibling}function rf(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qe(t,e),ot(e),n&4){try{Vn(3,e,e.return),Xi(3,e)}catch(w){re(e,e.return,w)}try{Vn(5,e,e.return)}catch(w){re(e,e.return,w)}}break;case 1:Qe(t,e),ot(e),n&512&&r!==null&&Yr(r,r.return);break;case 5:if(Qe(t,e),ot(e),n&512&&r!==null&&Yr(r,r.return),e.flags&32){var s=e.stateNode;try{Yn(s,"")}catch(w){re(e,e.return,w)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&kd(s,i),lo(o,a);var u=lo(o,i);for(a=0;a<l.length;a+=2){var h=l[a],f=l[a+1];h==="style"?Nd(s,f):h==="dangerouslySetInnerHTML"?Cd(s,f):h==="children"?Yn(s,f):hl(s,h,f,u)}switch(o){case"input":no(s,i);break;case"textarea":Ed(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Zr(s,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?Zr(s,!!i.multiple,i.defaultValue,!0):Zr(s,!!i.multiple,i.multiple?[]:"",!1))}s[is]=i}catch(w){re(e,e.return,w)}}break;case 6:if(Qe(t,e),ot(e),n&4){if(e.stateNode===null)throw Error(j(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){re(e,e.return,w)}}break;case 3:if(Qe(t,e),ot(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{es(t.containerInfo)}catch(w){re(e,e.return,w)}break;case 4:Qe(t,e),ot(e);break;case 13:Qe(t,e),ot(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Hl=ne())),n&4&&dc(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(_e=(u=_e)||h,Qe(t,e),_e=u):Qe(t,e),ot(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(O=e,h=e.child;h!==null;){for(f=O=h;O!==null;){switch(p=O,v=p.child,p.tag){case 0:case 11:case 14:case 15:Vn(4,p,p.return);break;case 1:Yr(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(w){re(n,r,w)}}break;case 5:Yr(p,p.return);break;case 22:if(p.memoizedState!==null){fc(f);continue}}v!==null?(v.return=p,O=v):fc(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Td("display",a))}catch(w){re(e,e.return,w)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){re(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Qe(t,e),ot(e),n&4&&dc(e);break;case 21:break;default:Qe(t,e),ot(e)}}function ot(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(ef(r)){var n=r;break e}r=r.return}throw Error(j(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Yn(s,""),n.flags&=-33);var i=cc(e);Mo(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=cc(e);Do(e,o,a);break;default:throw Error(j(161))}}catch(l){re(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function cg(e,t,r){O=e,nf(e)}function nf(e,t,r){for(var n=(e.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Fs;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||_e;o=Fs;var u=_e;if(Fs=a,(_e=l)&&!u)for(O=s;O!==null;)a=O,l=a.child,a.tag===22&&a.memoizedState!==null?pc(s):l!==null?(l.return=a,O=l):pc(s);for(;i!==null;)O=i,nf(i),i=i.sibling;O=s,Fs=o,_e=u}hc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):hc(e)}}function hc(e){for(;O!==null;){var t=O;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_e||Xi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!_e)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ze(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Yu(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Yu(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&es(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}_e||t.flags&512&&Lo(t)}catch(p){re(t,t.return,p)}}if(t===e){O=null;break}if(r=t.sibling,r!==null){r.return=t.return,O=r;break}O=t.return}}function fc(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var r=t.sibling;if(r!==null){r.return=t.return,O=r;break}O=t.return}}function pc(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Xi(4,t)}catch(l){re(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){re(t,s,l)}}var i=t.return;try{Lo(t)}catch(l){re(t,i,l)}break;case 5:var a=t.return;try{Lo(t)}catch(l){re(t,a,l)}}}catch(l){re(t,t.return,l)}if(t===e){O=null;break}var o=t.sibling;if(o!==null){o.return=t.return,O=o;break}O=t.return}}var dg=Math.ceil,Ni=jt.ReactCurrentDispatcher,Wl=jt.ReactCurrentOwner,Ke=jt.ReactCurrentBatchConfig,F=0,fe=null,oe=null,ve=0,Ue=0,Qr=Xt(0),ce=0,ds=null,xr=0,Zi=0,Vl=0,Hn=null,Ne=null,Hl=0,fn=1/0,gt=null,Oi=!1,Bo=null,Ht=null,zs=!1,Dt=null,Pi=0,qn=0,Fo=null,ai=-1,oi=0;function Ee(){return F&6?ne():ai!==-1?ai:ai=ne()}function qt(e){return e.mode&1?F&2&&ve!==0?ve&-ve:Gm.transition!==null?(oi===0&&(oi=Fd()),oi):(e=W,e!==0||(e=window.event,e=e===void 0?16:Gd(e.type)),e):1}function it(e,t,r,n){if(50<qn)throw qn=0,Fo=null,Error(j(185));bs(e,r,n),(!(F&2)||e!==fe)&&(e===fe&&(!(F&2)&&(Zi|=r),ce===4&&$t(e,ve)),Ie(e,n),r===1&&F===0&&!(t.mode&1)&&(fn=ne()+500,Ji&&Zt()))}function Ie(e,t){var r=e.callbackNode;Gp(e,t);var n=pi(e,e===fe?ve:0);if(n===0)r!==null&&Su(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Su(r),t===1)e.tag===0?Km(mc.bind(null,e)):fh(mc.bind(null,e)),Wm(function(){!(F&6)&&Zt()}),r=null;else{switch(zd(n)){case 1:r=vl;break;case 4:r=Md;break;case 16:r=fi;break;case 536870912:r=Bd;break;default:r=fi}r=hf(r,sf.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function sf(e,t){if(ai=-1,oi=0,F&6)throw Error(j(327));var r=e.callbackNode;if(sn()&&e.callbackNode!==r)return null;var n=pi(e,e===fe?ve:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ri(e,n);else{t=n;var s=F;F|=2;var i=of();(fe!==e||ve!==t)&&(gt=null,fn=ne()+500,mr(e,t));do try{pg();break}catch(o){af(e,o)}while(!0);Ol(),Ni.current=i,F=s,oe!==null?t=0:(fe=null,ve=0,t=ce)}if(t!==0){if(t===2&&(s=po(e),s!==0&&(n=s,t=zo(e,s))),t===1)throw r=ds,mr(e,0),$t(e,n),Ie(e,ne()),r;if(t===6)$t(e,n);else{if(s=e.current.alternate,!(n&30)&&!hg(s)&&(t=Ri(e,n),t===2&&(i=po(e),i!==0&&(n=i,t=zo(e,i))),t===1))throw r=ds,mr(e,0),$t(e,n),Ie(e,ne()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(j(345));case 2:ar(e,Ne,gt);break;case 3:if($t(e,n),(n&130023424)===n&&(t=Hl+500-ne(),10<t)){if(pi(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ee(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=bo(ar.bind(null,e,Ne,gt),t);break}ar(e,Ne,gt);break;case 4:if($t(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-st(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=ne()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*dg(n/1960))-n,10<n){e.timeoutHandle=bo(ar.bind(null,e,Ne,gt),n);break}ar(e,Ne,gt);break;case 5:ar(e,Ne,gt);break;default:throw Error(j(329))}}}return Ie(e,ne()),e.callbackNode===r?sf.bind(null,e):null}function zo(e,t){var r=Hn;return e.current.memoizedState.isDehydrated&&(mr(e,t).flags|=256),e=Ri(e,t),e!==2&&(t=Ne,Ne=r,t!==null&&Wo(t)),e}function Wo(e){Ne===null?Ne=e:Ne.push.apply(Ne,e)}function hg(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!at(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $t(e,t){for(t&=~Vl,t&=~Zi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-st(t),n=1<<r;e[r]=-1,t&=~n}}function mc(e){if(F&6)throw Error(j(327));sn();var t=pi(e,0);if(!(t&1))return Ie(e,ne()),null;var r=Ri(e,t);if(e.tag!==0&&r===2){var n=po(e);n!==0&&(t=n,r=zo(e,n))}if(r===1)throw r=ds,mr(e,0),$t(e,t),Ie(e,ne()),r;if(r===6)throw Error(j(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ar(e,Ne,gt),Ie(e,ne()),null}function ql(e,t){var r=F;F|=1;try{return e(t)}finally{F=r,F===0&&(fn=ne()+500,Ji&&Zt())}}function _r(e){Dt!==null&&Dt.tag===0&&!(F&6)&&sn();var t=F;F|=1;var r=Ke.transition,n=W;try{if(Ke.transition=null,W=1,e)return e()}finally{W=n,Ke.transition=r,F=t,!(F&6)&&Zt()}}function Kl(){Ue=Qr.current,K(Qr)}function mr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,zm(r)),oe!==null)for(r=oe.return;r!==null;){var n=r;switch(Cl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&wi();break;case 3:dn(),K(Re),K(be),Ul();break;case 5:$l(n);break;case 4:dn();break;case 13:K(Q);break;case 19:K(Q);break;case 10:Pl(n.type._context);break;case 22:case 23:Kl()}r=r.return}if(fe=e,oe=e=Kt(e.current,null),ve=Ue=t,ce=0,ds=null,Vl=Zi=xr=0,Ne=Hn=null,hr!==null){for(t=0;t<hr.length;t++)if(r=hr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}hr=null}return e}function af(e,t){do{var r=oe;try{if(Ol(),ni.current=Ti,Ci){for(var n=X.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ci=!1}if(wr=0,he=ue=X=null,Wn=!1,ls=0,Wl.current=null,r===null||r.return===null){ce=1,ds=t,oe=null;break}e:{var i=e,a=r.return,o=r,l=t;if(t=ve,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=o,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=rc(a);if(v!==null){v.flags&=-257,nc(v,a,o,i,t),v.mode&1&&tc(i,u,t),t=v,l=u;var y=t.updateQueue;if(y===null){var w=new Set;w.add(l),t.updateQueue=w}else y.add(l);break e}else{if(!(t&1)){tc(i,u,t),Gl();break e}l=Error(j(426))}}else if(G&&o.mode&1){var x=rc(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),nc(x,a,o,i,t),Tl(hn(l,o));break e}}i=l=hn(l,o),ce!==4&&(ce=2),Hn===null?Hn=[i]:Hn.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=zh(i,l,t);Ju(i,g);break e;case 1:o=l;var m=i.type,d=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ht===null||!Ht.has(d)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=Wh(i,o,t);Ju(i,_);break e}}i=i.return}while(i!==null)}uf(r)}catch(S){t=S,oe===r&&r!==null&&(oe=r=r.return);continue}break}while(!0)}function of(){var e=Ni.current;return Ni.current=Ti,e===null?Ti:e}function Gl(){(ce===0||ce===3||ce===2)&&(ce=4),fe===null||!(xr&268435455)&&!(Zi&268435455)||$t(fe,ve)}function Ri(e,t){var r=F;F|=2;var n=of();(fe!==e||ve!==t)&&(gt=null,mr(e,t));do try{fg();break}catch(s){af(e,s)}while(!0);if(Ol(),F=r,Ni.current=n,oe!==null)throw Error(j(261));return fe=null,ve=0,ce}function fg(){for(;oe!==null;)lf(oe)}function pg(){for(;oe!==null&&!Mp();)lf(oe)}function lf(e){var t=df(e.alternate,e,Ue);e.memoizedProps=e.pendingProps,t===null?uf(e):oe=t,Wl.current=null}function uf(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=og(r,t),r!==null){r.flags&=32767,oe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ce=6,oe=null;return}}else if(r=ag(r,t,Ue),r!==null){oe=r;return}if(t=t.sibling,t!==null){oe=t;return}oe=t=e}while(t!==null);ce===0&&(ce=5)}function ar(e,t,r){var n=W,s=Ke.transition;try{Ke.transition=null,W=1,mg(e,t,r,n)}finally{Ke.transition=s,W=n}return null}function mg(e,t,r,n){do sn();while(Dt!==null);if(F&6)throw Error(j(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(j(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Jp(e,i),e===fe&&(oe=fe=null,ve=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||zs||(zs=!0,hf(fi,function(){return sn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ke.transition,Ke.transition=null;var a=W;W=1;var o=F;F|=4,Wl.current=null,ug(e,r),rf(r,e),$m(xo),mi=!!wo,xo=wo=null,e.current=r,cg(r),Bp(),F=o,W=a,Ke.transition=i}else e.current=r;if(zs&&(zs=!1,Dt=e,Pi=s),i=e.pendingLanes,i===0&&(Ht=null),Wp(r.stateNode),Ie(e,ne()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Oi)throw Oi=!1,e=Bo,Bo=null,e;return Pi&1&&e.tag!==0&&sn(),i=e.pendingLanes,i&1?e===Fo?qn++:(qn=0,Fo=e):qn=0,Zt(),null}function sn(){if(Dt!==null){var e=zd(Pi),t=Ke.transition,r=W;try{if(Ke.transition=null,W=16>e?16:e,Dt===null)var n=!1;else{if(e=Dt,Dt=null,Pi=0,F&6)throw Error(j(331));var s=F;for(F|=4,O=e.current;O!==null;){var i=O,a=i.child;if(O.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(O=u;O!==null;){var h=O;switch(h.tag){case 0:case 11:case 15:Vn(8,h,i)}var f=h.child;if(f!==null)f.return=h,O=f;else for(;O!==null;){h=O;var p=h.sibling,v=h.return;if(Zh(h),h===u){O=null;break}if(p!==null){p.return=v,O=p;break}O=v}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}O=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,O=a;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Vn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,O=g;break e}O=i.return}}var m=e.current;for(O=m;O!==null;){a=O;var d=a.child;if(a.subtreeFlags&2064&&d!==null)d.return=a,O=d;else e:for(a=m;O!==null;){if(o=O,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Xi(9,o)}}catch(S){re(o,o.return,S)}if(o===a){O=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,O=_;break e}O=o.return}}if(F=s,Zt(),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(Vi,e)}catch{}n=!0}return n}finally{W=r,Ke.transition=t}}return!1}function gc(e,t,r){t=hn(r,t),t=zh(e,t,1),e=Vt(e,t,1),t=Ee(),e!==null&&(bs(e,1,t),Ie(e,t))}function re(e,t,r){if(e.tag===3)gc(e,e,r);else for(;t!==null;){if(t.tag===3){gc(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ht===null||!Ht.has(n))){e=hn(r,e),e=Wh(t,e,1),t=Vt(t,e,1),e=Ee(),t!==null&&(bs(t,1,e),Ie(t,e));break}}t=t.return}}function gg(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ee(),e.pingedLanes|=e.suspendedLanes&r,fe===e&&(ve&r)===r&&(ce===4||ce===3&&(ve&130023424)===ve&&500>ne()-Hl?mr(e,0):Vl|=r),Ie(e,t)}function cf(e,t){t===0&&(e.mode&1?(t=Rs,Rs<<=1,!(Rs&130023424)&&(Rs=4194304)):t=1);var r=Ee();e=kt(e,t),e!==null&&(bs(e,t,r),Ie(e,r))}function vg(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),cf(e,r)}function yg(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(j(314))}n!==null&&n.delete(t),cf(e,r)}var df;df=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Re.current)Pe=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Pe=!1,ig(e,t,r);Pe=!!(e.flags&131072)}else Pe=!1,G&&t.flags&1048576&&ph(t,bi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ii(e,t),e=t.pendingProps;var s=ln(t,be.current);nn(t,r),s=Dl(null,t,n,e,s,r);var i=Ml();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ae(n)?(i=!0,xi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Al(t),s.updater=Qi,t.stateNode=s,s._reactInternals=t,No(t,n,e,r),t=Ro(null,t,n,!0,i,r)):(t.tag=0,G&&i&&jl(t),ke(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ii(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=xg(n),e=Ze(n,e),s){case 0:t=Po(null,t,n,e,r);break e;case 1:t=ac(null,t,n,e,r);break e;case 11:t=sc(null,t,n,e,r);break e;case 14:t=ic(null,t,n,Ze(n.type,e),r);break e}throw Error(j(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ze(n,s),Po(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ze(n,s),ac(e,t,n,s,r);case 3:e:{if(Kh(t),e===null)throw Error(j(387));n=t.pendingProps,i=t.memoizedState,s=i.element,xh(e,t),Ei(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=hn(Error(j(423)),t),t=oc(e,t,n,r,s);break e}else if(n!==s){s=hn(Error(j(424)),t),t=oc(e,t,n,r,s);break e}else for(Me=Wt(t.stateNode.containerInfo.firstChild),Be=t,G=!0,nt=null,r=yh(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(un(),n===s){t=Et(e,t,r);break e}ke(e,t,n,r)}t=t.child}return t;case 5:return _h(t),e===null&&jo(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,_o(n,s)?a=null:i!==null&&_o(n,i)&&(t.flags|=32),qh(e,t),ke(e,t,a,r),t.child;case 6:return e===null&&jo(t),null;case 13:return Gh(e,t,r);case 4:return Il(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=cn(t,null,n,r):ke(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ze(n,s),sc(e,t,n,s,r);case 7:return ke(e,t,t.pendingProps,r),t.child;case 8:return ke(e,t,t.pendingProps.children,r),t.child;case 12:return ke(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,H(Si,n._currentValue),n._currentValue=a,i!==null)if(at(i.value,a)){if(i.children===s.children&&!Re.current){t=Et(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=_t(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Co(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(j(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),Co(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}ke(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,nn(t,r),s=Je(s),n=n(s),t.flags|=1,ke(e,t,n,r),t.child;case 14:return n=t.type,s=Ze(n,t.pendingProps),s=Ze(n.type,s),ic(e,t,n,s,r);case 15:return Vh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ze(n,s),ii(e,t),t.tag=1,Ae(n)?(e=!0,xi(t)):e=!1,nn(t,r),Fh(t,n,s),No(t,n,s,r),Ro(null,t,n,!0,e,r);case 19:return Jh(e,t,r);case 22:return Hh(e,t,r)}throw Error(j(156,t.tag))};function hf(e,t){return Dd(e,t)}function wg(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qe(e,t,r,n){return new wg(e,t,r,n)}function Jl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xg(e){if(typeof e=="function")return Jl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===pl)return 11;if(e===ml)return 14}return 2}function Kt(e,t){var r=e.alternate;return r===null?(r=qe(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function li(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")Jl(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Fr:return gr(r.children,s,i,t);case fl:a=8,s|=8;break;case Xa:return e=qe(12,r,t,s|2),e.elementType=Xa,e.lanes=i,e;case Za:return e=qe(13,r,t,s),e.elementType=Za,e.lanes=i,e;case eo:return e=qe(19,r,t,s),e.elementType=eo,e.lanes=i,e;case _d:return ea(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wd:a=10;break e;case xd:a=9;break e;case pl:a=11;break e;case ml:a=14;break e;case Pt:a=16,n=null;break e}throw Error(j(130,e==null?e:typeof e,""))}return t=qe(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function gr(e,t,r,n){return e=qe(7,e,n,t),e.lanes=r,e}function ea(e,t,r,n){return e=qe(22,e,n,t),e.elementType=_d,e.lanes=r,e.stateNode={isHidden:!1},e}function Ua(e,t,r){return e=qe(6,e,null,t),e.lanes=r,e}function La(e,t,r){return t=qe(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _g(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=va(0),this.expirationTimes=va(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=va(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Yl(e,t,r,n,s,i,a,o,l){return e=new _g(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=qe(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Al(i),e}function bg(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Br,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function ff(e){if(!e)return Yt;e=e._reactInternals;e:{if(kr(e)!==e||e.tag!==1)throw Error(j(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ae(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(j(171))}if(e.tag===1){var r=e.type;if(Ae(r))return hh(e,r,t)}return t}function pf(e,t,r,n,s,i,a,o,l){return e=Yl(r,n,!0,e,s,i,a,o,l),e.context=ff(null),r=e.current,n=Ee(),s=qt(r),i=_t(n,s),i.callback=t??null,Vt(r,i,s),e.current.lanes=s,bs(e,s,n),Ie(e,n),e}function ta(e,t,r,n){var s=t.current,i=Ee(),a=qt(s);return r=ff(r),t.context===null?t.context=r:t.pendingContext=r,t=_t(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Vt(s,t,a),e!==null&&(it(e,s,a,i),ri(e,s,a)),a}function Ai(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ql(e,t){vc(e,t),(e=e.alternate)&&vc(e,t)}function Sg(){return null}var mf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Xl(e){this._internalRoot=e}ra.prototype.render=Xl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(j(409));ta(e,t,null,null)};ra.prototype.unmount=Xl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_r(function(){ta(null,e,null,null)}),t[St]=null}};function ra(e){this._internalRoot=e}ra.prototype.unstable_scheduleHydration=function(e){if(e){var t=Hd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<It.length&&t!==0&&t<It[r].priority;r++);It.splice(r,0,e),r===0&&Kd(e)}};function Zl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function na(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function yc(){}function kg(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Ai(a);i.call(u)}}var a=pf(t,n,e,0,null,!1,!1,"",yc);return e._reactRootContainer=a,e[St]=a.current,ns(e.nodeType===8?e.parentNode:e),_r(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var u=Ai(l);o.call(u)}}var l=Yl(e,0,!1,null,null,!1,!1,"",yc);return e._reactRootContainer=l,e[St]=l.current,ns(e.nodeType===8?e.parentNode:e),_r(function(){ta(t,l,r,n)}),l}function sa(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=Ai(a);o.call(l)}}ta(t,a,e,s)}else a=kg(r,t,e,s,n);return Ai(a)}Wd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=$n(t.pendingLanes);r!==0&&(yl(t,r|1),Ie(t,ne()),!(F&6)&&(fn=ne()+500,Zt()))}break;case 13:_r(function(){var n=kt(e,1);if(n!==null){var s=Ee();it(n,e,1,s)}}),Ql(e,1)}};wl=function(e){if(e.tag===13){var t=kt(e,134217728);if(t!==null){var r=Ee();it(t,e,134217728,r)}Ql(e,134217728)}};Vd=function(e){if(e.tag===13){var t=qt(e),r=kt(e,t);if(r!==null){var n=Ee();it(r,e,t,n)}Ql(e,t)}};Hd=function(){return W};qd=function(e,t){var r=W;try{return W=e,t()}finally{W=r}};co=function(e,t,r){switch(t){case"input":if(no(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Gi(n);if(!s)throw Error(j(90));Sd(n),no(n,s)}}}break;case"textarea":Ed(e,r);break;case"select":t=r.value,t!=null&&Zr(e,!!r.multiple,t,!1)}};Rd=ql;Ad=_r;var Eg={usingClientEntryPoint:!1,Events:[ks,Hr,Gi,Od,Pd,ql]},On={findFiberByHostInstance:dr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jg={bundleType:On.bundleType,version:On.version,rendererPackageName:On.rendererPackageName,rendererConfig:On.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ud(e),e===null?null:e.stateNode},findFiberByHostInstance:On.findFiberByHostInstance||Sg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ws=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ws.isDisabled&&Ws.supportsFiber)try{Vi=Ws.inject(jg),ct=Ws}catch{}}ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Eg;ze.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zl(t))throw Error(j(200));return bg(e,t,null,r)};ze.createRoot=function(e,t){if(!Zl(e))throw Error(j(299));var r=!1,n="",s=mf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Yl(e,1,!1,null,null,r,!1,n,s),e[St]=t.current,ns(e.nodeType===8?e.parentNode:e),new Xl(t)};ze.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(j(188)):(e=Object.keys(e).join(","),Error(j(268,e)));return e=Ud(t),e=e===null?null:e.stateNode,e};ze.flushSync=function(e){return _r(e)};ze.hydrate=function(e,t,r){if(!na(t))throw Error(j(200));return sa(null,e,t,!0,r)};ze.hydrateRoot=function(e,t,r){if(!Zl(e))throw Error(j(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=mf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=pf(t,null,e,1,r??null,s,!1,i,a),e[St]=t.current,ns(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new ra(t)};ze.render=function(e,t,r){if(!na(t))throw Error(j(200));return sa(null,e,t,!1,r)};ze.unmountComponentAtNode=function(e){if(!na(e))throw Error(j(40));return e._reactRootContainer?(_r(function(){sa(null,null,e,!1,function(){e._reactRootContainer=null,e[St]=null})}),!0):!1};ze.unstable_batchedUpdates=ql;ze.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!na(r))throw Error(j(200));if(e==null||e._reactInternals===void 0)throw Error(j(38));return sa(e,t,r,!1,n)};ze.version="18.3.1-next-f1338f8080-20240426";function gf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gf)}catch(e){console.error(e)}}gf(),md.exports=ze;var Cg=md.exports,wc=Cg;Ya.createRoot=wc.createRoot,Ya.hydrateRoot=wc.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hs(){return hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hs.apply(this,arguments)}var Mt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Mt||(Mt={}));const xc="popstate";function Tg(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:a,hash:o}=n.location;return Vo("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Ii(s)}return Og(t,r,null,e)}function se(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function eu(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ng(){return Math.random().toString(36).substr(2,8)}function _c(e,t){return{usr:e.state,key:e.key,idx:t}}function Vo(e,t,r,n){return r===void 0&&(r=null),hs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?yn(t):t,{state:r,key:t&&t.key||n||Ng()})}function Ii(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function yn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Og(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o=Mt.Pop,l=null,u=h();u==null&&(u=0,a.replaceState(hs({},a.state,{idx:u}),""));function h(){return(a.state||{idx:null}).idx}function f(){o=Mt.Pop;let x=h(),g=x==null?null:x-u;u=x,l&&l({action:o,location:w.location,delta:g})}function p(x,g){o=Mt.Push;let m=Vo(w.location,x,g);u=h()+1;let d=_c(m,u),_=w.createHref(m);try{a.pushState(d,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}i&&l&&l({action:o,location:w.location,delta:1})}function v(x,g){o=Mt.Replace;let m=Vo(w.location,x,g);u=h();let d=_c(m,u),_=w.createHref(m);a.replaceState(d,"",_),i&&l&&l({action:o,location:w.location,delta:0})}function y(x){let g=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof x=="string"?x:Ii(x);return m=m.replace(/ $/,"%20"),se(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let w={get action(){return o},get location(){return e(s,a)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(xc,f),l=x,()=>{s.removeEventListener(xc,f),l=null}},createHref(x){return t(s,x)},createURL:y,encodeLocation(x){let g=y(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:v,go(x){return a.go(x)}};return w}var bc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(bc||(bc={}));function Pg(e,t,r){return r===void 0&&(r="/"),Rg(e,t,r)}function Rg(e,t,r,n){let s=typeof t=="string"?yn(t):t,i=tu(s.pathname||"/",r);if(i==null)return null;let a=vf(e);Ag(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=Hg(i);o=zg(a[l],u)}return o}function vf(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(se(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Gt([n,l.relativePath]),h=r.concat(l);i.children&&i.children.length>0&&(se(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),vf(i.children,t,h,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Bg(u,i.index),routesMeta:h})};return e.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of yf(i.path))s(i,a,l)}),t}function yf(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=yf(n.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function Ag(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Fg(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Ig=/^:[\w-]+$/,$g=3,Ug=2,Lg=1,Dg=10,Mg=-2,Sc=e=>e==="*";function Bg(e,t){let r=e.split("/"),n=r.length;return r.some(Sc)&&(n+=Mg),t&&(n+=Ug),r.filter(s=>!Sc(s)).reduce((s,i)=>s+(Ig.test(i)?$g:i===""?Lg:Dg),n)}function Fg(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function zg(e,t,r){let{routesMeta:n}=e,s={},i="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",f=Wg({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),p=l.route;if(!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:Gt([i,f.pathname]),pathnameBase:Yg(Gt([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Gt([i,f.pathnameBase]))}return a}function Wg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Vg(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((u,h,f)=>{let{paramName:p,isOptional:v}=h;if(p==="*"){let w=o[f]||"";a=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const y=o[f];return v&&!y?u[p]=void 0:u[p]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function Vg(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),eu(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Hg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return eu(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function tu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const qg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kg=e=>qg.test(e);function Gg(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?yn(e):e,i;if(r)if(Kg(r))i=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),eu(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?i=kc(r.substring(1),"/"):i=kc(r,t)}else i=t;return{pathname:i,search:Qg(n),hash:Xg(s)}}function kc(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Da(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Jg(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ru(e,t){let r=Jg(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function nu(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=yn(e):(s=hs({},e),se(!s.pathname||!s.pathname.includes("?"),Da("?","pathname","search",s)),se(!s.pathname||!s.pathname.includes("#"),Da("#","pathname","hash",s)),se(!s.search||!s.search.includes("#"),Da("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let f=t.length-1;if(!n&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}o=f>=0?t[f]:"/"}let l=Gg(s,o),u=a&&a!=="/"&&a.endsWith("/"),h=(i||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const Gt=e=>e.join("/").replace(/\/\/+/g,"/"),Yg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Qg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Xg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Zg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const wf=["post","put","patch","delete"];new Set(wf);const ev=["get",...wf];new Set(ev);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fs(){return fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fs.apply(this,arguments)}const su=b.createContext(null),tv=b.createContext(null),er=b.createContext(null),ia=b.createContext(null),Ct=b.createContext({outlet:null,matches:[],isDataRoute:!1}),xf=b.createContext(null);function rv(e,t){let{relative:r}=t===void 0?{}:t;wn()||se(!1);let{basename:n,navigator:s}=b.useContext(er),{hash:i,pathname:a,search:o}=bf(e,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:Gt([n,a])),s.createHref({pathname:l,search:o,hash:i})}function wn(){return b.useContext(ia)!=null}function Er(){return wn()||se(!1),b.useContext(ia).location}function _f(e){b.useContext(er).static||b.useLayoutEffect(e)}function xn(){let{isDataRoute:e}=b.useContext(Ct);return e?gv():nv()}function nv(){wn()||se(!1);let e=b.useContext(su),{basename:t,future:r,navigator:n}=b.useContext(er),{matches:s}=b.useContext(Ct),{pathname:i}=Er(),a=JSON.stringify(ru(s,r.v7_relativeSplatPath)),o=b.useRef(!1);return _f(()=>{o.current=!0}),b.useCallback(function(u,h){if(h===void 0&&(h={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=nu(u,JSON.parse(a),i,h.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Gt([t,f.pathname])),(h.replace?n.replace:n.push)(f,h.state,h)},[t,n,a,i,e])}function sv(){let{matches:e}=b.useContext(Ct),t=e[e.length-1];return t?t.params:{}}function bf(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=b.useContext(er),{matches:s}=b.useContext(Ct),{pathname:i}=Er(),a=JSON.stringify(ru(s,n.v7_relativeSplatPath));return b.useMemo(()=>nu(e,JSON.parse(a),i,r==="path"),[e,a,i,r])}function iv(e,t){return av(e,t)}function av(e,t,r,n){wn()||se(!1);let{navigator:s}=b.useContext(er),{matches:i}=b.useContext(Ct),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=Er(),h;if(t){var f;let x=typeof t=="string"?yn(t):t;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||se(!1),h=x}else h=u;let p=h.pathname||"/",v=p;if(l!=="/"){let x=l.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=Pg(e,{pathname:v}),w=dv(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:Gt([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Gt([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&w?b.createElement(ia.Provider,{value:{location:fs({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Mt.Pop}},w):w}function ov(){let e=mv(),t=Zg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:s},r):null,null)}const lv=b.createElement(ov,null);class uv extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?b.createElement(Ct.Provider,{value:this.props.routeContext},b.createElement(xf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cv(e){let{routeContext:t,match:r,children:n}=e,s=b.useContext(su);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(Ct.Provider,{value:t},n)}function dv(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=(s=r)==null?void 0:s.errors;if(o!=null){let h=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);h>=0||se(!1),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<a.length;h++){let f=a[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:p,errors:v}=r,y=f.route.loader&&p[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||y){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,f,p)=>{let v,y=!1,w=null,x=null;r&&(v=o&&f.route.id?o[f.route.id]:void 0,w=f.route.errorElement||lv,l&&(u<0&&p===0?(vv("route-fallback"),y=!0,x=null):u===p&&(y=!0,x=f.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,p+1)),m=()=>{let d;return v?d=w:y?d=x:f.route.Component?d=b.createElement(f.route.Component,null):f.route.element?d=f.route.element:d=h,b.createElement(cv,{match:f,routeContext:{outlet:h,matches:g,isDataRoute:r!=null},children:d})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?b.createElement(uv,{location:r.location,revalidation:r.revalidation,component:w,error:v,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var Sf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Sf||{}),kf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(kf||{});function hv(e){let t=b.useContext(su);return t||se(!1),t}function fv(e){let t=b.useContext(tv);return t||se(!1),t}function pv(e){let t=b.useContext(Ct);return t||se(!1),t}function Ef(e){let t=pv(),r=t.matches[t.matches.length-1];return r.route.id||se(!1),r.route.id}function mv(){var e;let t=b.useContext(xf),r=fv(),n=Ef();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function gv(){let{router:e}=hv(Sf.UseNavigateStable),t=Ef(kf.UseNavigateStable),r=b.useRef(!1);return _f(()=>{r.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,fs({fromRouteId:t},i)))},[e,t])}const Ec={};function vv(e,t,r){Ec[e]||(Ec[e]=!0)}function yv(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ho(e){let{to:t,replace:r,state:n,relative:s}=e;wn()||se(!1);let{future:i,static:a}=b.useContext(er),{matches:o}=b.useContext(Ct),{pathname:l}=Er(),u=xn(),h=nu(t,ru(o,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(h);return b.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function Ur(e){se(!1)}function wv(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Mt.Pop,navigator:i,static:a=!1,future:o}=e;wn()&&se(!1);let l=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:l,navigator:i,static:a,future:fs({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof n=="string"&&(n=yn(n));let{pathname:h="/",search:f="",hash:p="",state:v=null,key:y="default"}=n,w=b.useMemo(()=>{let x=tu(h,l);return x==null?null:{location:{pathname:x,search:f,hash:p,state:v,key:y},navigationType:s}},[l,h,f,p,v,y,s]);return w==null?null:b.createElement(er.Provider,{value:u},b.createElement(ia.Provider,{children:r,value:w}))}function xv(e){let{children:t,location:r}=e;return iv(qo(t),r)}new Promise(()=>{});function qo(e,t){t===void 0&&(t=[]);let r=[];return b.Children.forEach(e,(n,s)=>{if(!b.isValidElement(n))return;let i=[...t,s];if(n.type===b.Fragment){r.push.apply(r,qo(n.props.children,i));return}n.type!==Ur&&se(!1),!n.props.index||!n.props.children||se(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=qo(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ko(){return Ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ko.apply(this,arguments)}function _v(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function bv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Sv(e,t){return e.button===0&&(!t||t==="_self")&&!bv(e)}const kv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ev="6";try{window.__reactRouterVersion=Ev}catch{}const jv="startTransition",jc=gp[jv];function Cv(e){let{basename:t,children:r,future:n,window:s}=e,i=b.useRef();i.current==null&&(i.current=Tg({window:s,v5Compat:!0}));let a=i.current,[o,l]=b.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},h=b.useCallback(f=>{u&&jc?jc(()=>l(f)):l(f)},[l,u]);return b.useLayoutEffect(()=>a.listen(h),[a,h]),b.useEffect(()=>yv(n),[n]),b.createElement(wv,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const Tv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Nv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pn=b.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:o,target:l,to:u,preventScrollReset:h,viewTransition:f}=t,p=_v(t,kv),{basename:v}=b.useContext(er),y,w=!1;if(typeof u=="string"&&Nv.test(u)&&(y=u,Tv))try{let d=new URL(window.location.href),_=u.startsWith("//")?new URL(d.protocol+u):new URL(u),S=tu(_.pathname,v);_.origin===d.origin&&S!=null?u=S+_.search+_.hash:w=!0}catch{}let x=rv(u,{relative:s}),g=Ov(u,{replace:a,state:o,target:l,preventScrollReset:h,relative:s,viewTransition:f});function m(d){n&&n(d),d.defaultPrevented||g(d)}return b.createElement("a",Ko({},p,{href:y||x,onClick:w||i?n:m,ref:r,target:l}))});var Cc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Cc||(Cc={}));var Tc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Tc||(Tc={}));function Ov(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:o}=t===void 0?{}:t,l=xn(),u=Er(),h=bf(e,{relative:a});return b.useCallback(f=>{if(Sv(f,r)){f.preventDefault();let p=n!==void 0?n:Ii(u)===Ii(h);l(e,{replace:p,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[u,l,h,n,s,r,e,i,a,o])}function aa(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Pv(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(h){try{u(n.next(h))}catch(f){a(f)}}function l(h){try{u(n.throw(h))}catch(f){a(f)}}function u(h){h.done?i(h.value):s(h.value).then(o,l)}u((n=n.apply(e,t||[])).next())})}const Rv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class iu extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Av extends iu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Nc extends iu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Oc extends iu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Go;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Go||(Go={}));class Iv{constructor(t,{headers:r={},customFetch:n,region:s=Go.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=Rv(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Pv(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:o,method:l,body:u,signal:h,timeout:f}=n;let p={},{region:v}=n;v||(v=this.region);const y=new URL(`${this.url}/${r}`);v&&v!=="any"&&(p["x-region"]=v,y.searchParams.set("forceFunctionRegion",v));let w;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(p["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(p["Content-Type"]="application/json",w=JSON.stringify(u)):w=u;let x=h;f&&(a=new AbortController,i=setTimeout(()=>a.abort(),f),h?(x=a.signal,h.addEventListener("abort",()=>a.abort())):x=a.signal);const g=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),o),body:w,signal:x}).catch(S=>{throw new Av(S)}),m=g.headers.get("x-relay-error");if(m&&m==="true")throw new Nc(g);if(!g.ok)throw new Oc(g);let d=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return d==="application/json"?_=yield g.json():d==="application/octet-stream"||d==="application/pdf"?_=yield g.blob():d==="text/event-stream"?_=g:d==="multipart/form-data"?_=yield g.formData():_=yield g.text(),{data:_,error:null,response:g}}catch(o){return{data:null,error:o,response:o instanceof Oc||o instanceof Nc?o.context:void 0}}finally{i&&clearTimeout(i)}})}}var $v=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Uv=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,o=null,l=null,u=i.status,h=i.statusText;if(i.ok){var f,p;if(r.method!=="HEAD"){var v;const g=await i.text();g===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((v=r.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?o=g:o=JSON.parse(g))}const w=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),x=(p=i.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");w&&x&&x.length>1&&(l=parseInt(x[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,u=406,h="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var y;const w=await i.text();try{a=JSON.parse(w),Array.isArray(a)&&i.status===404&&(o=[],a=null,u=200,h="OK")}catch{i.status===404&&w===""?(u=204,h="No Content"):a={message:w}}if(a&&r.isMaybeSingle&&(!(a==null||(y=a.details)===null||y===void 0)&&y.includes("0 rows"))&&(a=null,u=200,h="OK"),a&&r.shouldThrowOnError)throw new $v(a)}return{error:a,data:o,count:l,status:u,statusText:h}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let o="";const l=i==null?void 0:i.cause;if(l){var u,h,f,p;const y=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",w=(h=l==null?void 0:l.code)!==null&&h!==void 0?h:"";o=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,o+=`

Caused by: ${(p=l==null?void 0:l.name)!==null&&p!==void 0?p:"Error"}: ${y}`,w&&(o+=` (${w})`),l!=null&&l.stack&&(o+=`
${l.stack}`)}else{var v;o=(v=i==null?void 0:i.stack)!==null&&v!==void 0?v:""}return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},Lv=class extends Uv{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var a;const o=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${o};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Pc=new RegExp("[,()]");var Lr=class extends Lv{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Pc.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Pc.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},Dv=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),n&&this.headers.append("Prefer",`count=${n}`),new Lr({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((a,o)=>a.concat(Object.keys(o)),[]);if(i.length>0){const a=[...new Set(i)].map(o=>`"${o}"`);this.url.searchParams.set("columns",a.join(","))}}return new Lr({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Lr({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new Lr({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Lr({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},Mv=class jf{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Dv(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new jf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var a;let o;const l=new URL(`${this.url}/rpc/${t}`);let u;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([f,p])=>p!==void 0).map(([f,p])=>[f,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([f,p])=>{l.searchParams.append(f,p)})):(o="POST",u=r);const h=new Headers(this.headers);return i&&h.set("Prefer",`count=${i}`),new Lr({method:o,url:l,headers:h,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class Bv{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Fv="2.89.0",zv=`realtime-js/${Fv}`,Cf="1.0.0",Wv="2.0.0",Rc=Cf,Jo=1e4,Vv=1e3,Hv=100;var At;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(At||(At={}));var le;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(le||(le={}));var rt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(rt||(rt={}));var Yo;(function(e){e.websocket="websocket"})(Yo||(Yo={}));var ur;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ur||(ur={}));class qv{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,r,n){var s,i;const a=t.topic,o=(s=t.ref)!==null&&s!==void 0?s:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(h).length===0?"":JSON.stringify(h);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+u.length+f.length,v=new ArrayBuffer(this.HEADER_LENGTH+p);let y=new DataView(v),w=0;y.setUint8(w++,this.KINDS.userBroadcastPush),y.setUint8(w++,l.length),y.setUint8(w++,o.length),y.setUint8(w++,a.length),y.setUint8(w++,u.length),y.setUint8(w++,f.length),y.setUint8(w++,r),Array.from(l,g=>y.setUint8(w++,g.charCodeAt(0))),Array.from(o,g=>y.setUint8(w++,g.charCodeAt(0))),Array.from(a,g=>y.setUint8(w++,g.charCodeAt(0))),Array.from(u,g=>y.setUint8(w++,g.charCodeAt(0))),Array.from(f,g=>y.setUint8(w++,g.charCodeAt(0)));var x=new Uint8Array(v.byteLength+n.byteLength);return x.set(new Uint8Array(v),0),x.set(new Uint8Array(n),v.byteLength),x.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,a,o,l]=n;return r({join_ref:s,ref:i,topic:a,event:o,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(t.slice(l,l+s));l=l+s;const h=n.decode(t.slice(l,l+i));l=l+i;const f=n.decode(t.slice(l,l+a));l=l+a;const p=t.slice(l,t.byteLength),v=o===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,y={type:this.BROADCAST_EVENT,event:h,payload:v};return a>0&&(y.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class Tf{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var V;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(V||(V={}));const Ac=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=Kv(a,e,t,s),i),{}):{}},Kv=(e,t,r,n)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?Nf(i,a):Qo(a)},Nf=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Qv(t,r)}switch(e){case V.bool:return Gv(t);case V.float4:case V.float8:case V.int2:case V.int4:case V.int8:case V.numeric:case V.oid:return Jv(t);case V.json:case V.jsonb:return Yv(t);case V.timestamp:return Xv(t);case V.abstime:case V.date:case V.daterange:case V.int4range:case V.int8range:case V.money:case V.reltime:case V.text:case V.time:case V.timestamptz:case V.timetz:case V.tsrange:case V.tstzrange:return Qo(t);default:return Qo(t)}},Qo=e=>e,Gv=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Jv=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Yv=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Qv=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>Nf(t,o))}return e},Xv=e=>typeof e=="string"?e.replace(" ","T"):e,Of=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ma{constructor(t,r,n={},s=Jo){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ic;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ic||(Ic={}));class Kn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Kn.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=Kn.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Kn.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),o={},l={};return this.map(i,(u,h)=>{a[u]||(l[u]=h)}),this.map(a,(u,h)=>{const f=i[u];if(f){const p=h.map(x=>x.presence_ref),v=f.map(x=>x.presence_ref),y=h.filter(x=>v.indexOf(x.presence_ref)<0),w=f.filter(x=>p.indexOf(x.presence_ref)<0);y.length>0&&(o[u]=y),w.length>0&&(l[u]=w)}else o[u]=h}),this.syncDiff(i,{joins:o,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var u;const h=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(l),h.length>0){const f=t[o].map(v=>v.presence_ref),p=h.filter(v=>f.indexOf(v.presence_ref)<0);t[o].unshift(...p)}n(o,h,l)}),this.map(a,(o,l)=>{let u=t[o];if(!u)return;const h=l.map(f=>f.presence_ref);u=u.filter(f=>h.indexOf(f.presence_ref)<0),t[o]=u,s(o,u,l),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var $c;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})($c||($c={}));var Gn;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Gn||(Gn={}));var vt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(vt||(vt={}));class Xr{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=le.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ma(this,rt.join,this.params,this.timeout),this.rejoinTimer=new Tf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=le.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=le.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rt.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new Kn(this),this.broadcastEndpointURL=Of(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==le.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&s!==void 0?s:[],h=!!this.bindings[Gn.PRESENCE]&&this.bindings[Gn.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},p={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:h}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(v=>t==null?void 0:t(vt.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t(vt.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){t==null||t(vt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,x=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,g=[];for(let m=0;m<x;m++){const d=w[m],{filter:{event:_,schema:S,table:k,filter:E}}=d,T=v&&v[m];if(T&&T.event===_&&Xr.isFilterValueEqual(T.schema,S)&&Xr.isFilterValueEqual(T.table,k)&&Xr.isFilterValueEqual(T.filter,E))g.push(Object.assign(Object.assign({},d),{id:T.id}));else{this.unsubscribe(),this.state=le.errored,t==null||t(vt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(vt.SUBSCRIBED);return}}).receive("error",v=>{this.state=le.errored,t==null||t(vt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(vt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===le.joined&&t===Gn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const u=await o.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=le.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Ma(this,rt.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=le.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ma(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Hv){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:o,error:l,leave:u,join:h}=rt;if(n&&[o,l,u,h].indexOf(a)>=0&&n!==this._joinRef())return;let p=this._onMessage(a,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var y,w,x;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((x=(w=v.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(v=>v.callback(p,n)):(i=this.bindings[a])===null||i===void 0||i.filter(v=>{var y,w,x,g,m,d;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const _=v.id,S=(y=v.filter)===null||y===void 0?void 0:y.event;return _&&((w=r.ids)===null||w===void 0?void 0:w.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(m=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return _==="*"||_===((d=r==null?void 0:r.event)===null||d===void 0?void 0:d.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:w,table:x,commit_timestamp:g,type:m,errors:d}=y;p=Object.assign(Object.assign({},{schema:w,table:x,commit_timestamp:g,eventType:m,new:{},old:{},errors:d}),this._getPayloadRecords(y))}v.callback(p,n)})}_isClosed(){return this.state===le.closed}_isJoined(){return this.state===le.joined}_isJoining(){return this.state===le.joining}_isLeaving(){return this.state===le.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Xr.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(rt.close,{},t)}_onError(t){this._on(rt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=le.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Ac(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Ac(t.columns,t.old_record)),r}}const Ba=()=>{},Vs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Zv=[1e3,2e3,5e3,1e4],ey=1e4,ty=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ry{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Jo,this.transport=null,this.heartbeatIntervalMs=Vs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ba,this.ref=0,this.reconnectTimer=null,this.vsn=Rc,this.logger=Ba,this.conn=null,this.sendBuffer=[],this.serializer=new qv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Yo.websocket}`,this.httpEndpoint=Of(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Bv.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case At.connecting:return ur.Connecting;case At.open:return ur.Open;case At.closing:return ur.Closing;default:return ur.Closed}}isConnected(){return this.connectionState()===ur.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Xr(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Vv,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Vs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:a}=r,o=a?`(${a})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${o}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===At.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===At.open||this.conn.readyState===At.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(rt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([ty],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:zv};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(rt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Tf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Vs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,a,o,l,u,h,f,p,v;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Jo,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Vs.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:Ba,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:Rc,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:y=>Zv[y-1]||ey,this.vsn){case Cf:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:(y,w)=>w(JSON.stringify(y)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(y,w)=>w(JSON.parse(y));break;case Wv:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(v=t==null?void 0:t.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var ps=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function ny(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function sy(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function iy(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:a}){const o=ny(e.baseUrl,n,s),l=await sy(e.auth),u=await t(o,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...a},body:i?JSON.stringify(i):void 0}),h=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),p=f&&h?JSON.parse(h):h;if(!u.ok){const v=f?p:void 0,y=v==null?void 0:v.error;throw new ps((y==null?void 0:y.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:v})}return{status:u.status,headers:u.headers,data:p}}}}function Hs(e){return e.join("")}var ay=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Hs(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Hs(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hs(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Hs(e.namespace)}`}),!0}catch(t){if(t instanceof ps&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof ps&&r.status===409)return;throw r}}};function Nr(e){return e.join("")}var oy=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Nr(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Nr(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Nr(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Nr(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Nr(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Nr(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof ps&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof ps&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},ly=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=iy({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new ay(this.client,t),this.tableOps=new oy(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},oa=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Y(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var uy=class extends oa{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Xo=class extends oa{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const au=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),cy=()=>Response,Zo=e=>{if(Array.isArray(e))return e.map(r=>Zo(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Zo(n)}),t},dy=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},hy=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function ms(e){"@babel/helpers - typeof";return ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ms(e)}function fy(e,t){if(ms(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function py(e){var t=fy(e,"string");return ms(t)=="symbol"?t:t+""}function my(e,t,r){return(t=py(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uc(Object(r),!0).forEach(function(n){my(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Fa=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},gy=async(e,t,r)=>{e instanceof await cy()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const s=e.status||500,i=(n==null?void 0:n.statusCode)||s+"";t(new uy(Fa(n),s,i))}).catch(n=>{t(new Xo(Fa(n),n))}):t(new Xo(Fa(e),e))},vy=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(dy(n)?(s.headers=$({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),$($({},s),r))};async function js(e,t,r,n,s,i){return new Promise((a,o)=>{e(r,vy(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>gy(l,o,n))})}async function gs(e,t,r,n){return js(e,"GET",t,r,n)}async function et(e,t,r,n,s){return js(e,"POST",t,n,s,r)}async function el(e,t,r,n,s){return js(e,"PUT",t,n,s,r)}async function yy(e,t,r,n){return js(e,"HEAD",t,$($({},r),{},{noResolveJson:!0}),n)}async function ou(e,t,r,n,s){return js(e,"DELETE",t,n,s,r)}var wy=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Y(t))return{data:null,error:t};throw t}}};let Pf;Pf=Symbol.toStringTag;var xy=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Pf]="BlobDownloadBuilder",this.promise=null}asStream(){return new wy(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Y(t))return{data:null,error:t};throw t}}};const _y={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Lc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var by=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=au(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var s=this;try{let i;const a=$($({},Lc),n);let o=$($({},s.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),n!=null&&n.headers&&(o=$($({},o),n.headers));const u=s._removeEmptyFolders(t),h=s._getFinalPath(u),f=await(e=="PUT"?el:et)(s.fetch,`${s.url}/object/${h}`,i,$({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Y(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const i=s._removeEmptyFolders(e),a=s._getFinalPath(i),o=new URL(s.url+`/object/upload/sign/${a}`);o.searchParams.set("token",t);try{let l;const u=$({upsert:Lc.upsert},n),h=$($({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType),{data:{path:i,fullPath:(await el(s.fetch,o.toString(),l,{headers:h})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Y(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const s=$({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await et(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(r.url+i.url),o=a.searchParams.get("token");if(!o)throw new oa("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Y(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await et(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Y(s))return{data:null,error:s};throw s}}async copy(e,t,r){var n=this;try{return{data:{path:(await et(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Y(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,r){var n=this;try{let s=n._getFinalPath(e),i=await et(n.fetch,`${n.url}/object/sign/${s}`,$({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Y(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,r){var n=this;try{const s=await et(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>$($({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Y(s))return{data:null,error:s};throw s}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(e),a=()=>gs(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new xy(a,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:Zo(await gs(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Y(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await yy(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Y(n)&&n instanceof Xo){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&n.push(a);let o=n.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${o}`)}}}async remove(e){var t=this;try{return{data:await ou(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Y(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const s=$($($({},_y),t),{},{prefix:e||""});return{data:await et(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Y(s))return{data:null,error:s};throw s}}async listV2(e,t){var r=this;try{const n=$({},e);return{data:await et(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Y(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Rf="2.89.0",Af={"X-Client-Info":`storage-js/${Rf}`};var Sy=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=$($({},Af),t),this.fetch=au(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await gs(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Y(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await gs(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Y(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await et(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Y(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await el(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Y(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await et(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Y(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await ou(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Y(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},ky=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=$($({},Af),t),this.fetch=au(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await et(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Y(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await gs(t.fetch,s,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Y(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await ou(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Y(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!hy(e))throw new oa("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new ly({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(s,o),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}};const lu={"X-Client-Info":`storage-js/${Rf}`,"Content-Type":"application/json"};var If=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Le(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var za=class extends If{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ey=class extends If{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const uu=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),jy=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Dc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Cy=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const a=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";t(new za(Dc(i),n,a))}).catch(()=>{const i=n+"";t(new za(s.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";t(new za(s.statusText||`HTTP ${n} error`,n,i))}}else t(new Ey(Dc(e),e))},Ty=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(jy(n)?(s.headers=$({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,$($({},s),r)):s};async function Ny(e,t,r,n,s,i){return new Promise((a,o)=>{e(r,Ty(t,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>Cy(l,o,n))})}async function De(e,t,r,n,s){return Ny(e,"POST",t,n,s,r)}var Oy=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=$($({},lu),t),this.fetch=uu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await De(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await De(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Le(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await De(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await De(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Le(n))return{data:null,error:n};throw n}}},Py=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=$($({},lu),t),this.fetch=uu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await De(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await De(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await De(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await De(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await De(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}}},Ry=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=$($({},lu),t),this.fetch=uu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await De(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await De(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await De(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await De(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}}},Ay=class extends Ry{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Iy(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},Iy=class extends Oy{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new $y(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},$y=class extends Py{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Uy=class extends Sy{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new by(this.url,this.headers,e,this.fetch)}get vectors(){return new Ay(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new ky(this.url+"/iceberg",this.headers,this.fetch)}};const $f="2.89.0",Dr=30*1e3,tl=3,Wa=tl*Dr,Ly="http://localhost:9999",Dy="supabase.auth.token",My={"X-Client-Info":`gotrue-js/${$f}`},rl="X-Supabase-Api-Version",Uf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},By=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Fy=10*60*1e3;class vs extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function R(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class zy extends vs{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Wy(e){return R(e)&&e.name==="AuthApiError"}class cr extends vs{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Tt extends vs{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class $e extends Tt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Vy(e){return R(e)&&e.name==="AuthSessionMissingError"}class Or extends Tt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qs extends Tt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ks extends Tt{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Hy(e){return R(e)&&e.name==="AuthImplicitGrantRedirectError"}class Mc extends Tt{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qy extends Tt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class nl extends Tt{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Va(e){return R(e)&&e.name==="AuthRetryableFetchError"}class Bc extends Tt{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class sl extends Tt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const $i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Fc=` 	
\r=`.split(""),Ky=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Fc.length;t+=1)e[Fc[t].charCodeAt(0)]=-2;for(let t=0;t<$i.length;t+=1)e[$i[t].charCodeAt(0)]=t;return e})();function zc(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r($i[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r($i[n]),t.queuedBits-=6}}function Lf(e,t,r){const n=Ky[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Wc(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{Yy(a,n,r)};for(let a=0;a<e.length;a+=1)Lf(e.charCodeAt(a),s,i);return t.join("")}function Gy(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Jy(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Gy(n,t)}}function Yy(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function an(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Lf(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Qy(e){const t=[];return Jy(e,r=>t.push(r)),new Uint8Array(t)}function pr(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>zc(s,r,n)),zc(null,r,n),t.join("")}function Xy(e){return Math.round(Date.now()/1e3)+e}function Zy(){return Symbol("auth-callback")}const me=()=>typeof window<"u"&&typeof document<"u",nr={tested:!1,writable:!1},Df=()=>{if(!me())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(nr.tested)return nr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),nr.tested=!0,nr.writable=!0}catch{nr.tested=!0,nr.writable=!1}return nr.writable};function e0(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Mf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),t0=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Mr=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},sr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},pe=async(e,t)=>{await e.removeItem(t)};class la{constructor(){this.promise=new la.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}la.promiseConstructor=Promise;function Ha(e){const t=e.split(".");if(t.length!==3)throw new sl("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!By.test(t[n]))throw new sl("JWT not in base64url format");return{header:JSON.parse(Wc(t[0])),payload:JSON.parse(Wc(t[1])),signature:an(t[2]),raw:{header:t[0],payload:t[1]}}}async function r0(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function n0(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function s0(e){return("0"+e.toString(16)).substr(-2)}function i0(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,s0).join("")}async function a0(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function o0(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await a0(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Pr(e,t,r=!1){const n=i0();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Mr(e,`${t}-code-verifier`,s);const i=await o0(n);return[i,n===i?"plain":"s256"]}const l0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function u0(e){const t=e.headers.get(rl);if(!t||!t.match(l0))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function c0(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function d0(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const h0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Rr(e){if(!h0.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function qa(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function f0(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function Vc(e){return JSON.parse(JSON.stringify(e))}const or=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),p0=[502,503,504];async function Hc(e){var t;if(!t0(e))throw new nl(or(e),0);if(p0.includes(e.status))throw new nl(or(e),e.status);let r;try{r=await e.json()}catch(i){throw new cr(or(i),i)}let n;const s=u0(e);if(s&&s.getTime()>=Uf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Bc(or(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new $e}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Bc(or(r),e.status,r.weak_password.reasons);throw new zy(or(r),e.status||500,n)}const m0=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function I(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[rl]||(i[rl]=Uf["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await g0(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function g0(e,t,r,n,s,i){const a=m0(t,n,s,i);let o;try{o=await e(r,Object.assign({},a))}catch(l){throw console.error(l),new nl(or(l),0)}if(o.ok||await Hc(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await Hc(l)}}function Xe(e){var t;let r=null;w0(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Xy(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function qc(e){const t=Xe(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ut(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function v0(e){return{data:e,error:null}}function y0(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=aa(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function Kc(e){return e}function w0(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ka=["global","local","others"];class x0{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Mf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Ka[0]){if(Ka.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ka.join(", ")}`);try{return await I(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await I(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ut})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=aa(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await I(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:y0,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(R(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await I(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ut})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},h=await I(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Kc});if(h.error)throw h.error;const f=await h.json(),p=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(l=(o=h.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);u[`${x}Page`]=w}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(R(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Rr(t);try{return await I(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ut})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Rr(t);try{return await I(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ut})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Rr(t);try{return await I(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ut})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Rr(t.userId);try{const{data:r,error:n}=await I(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(R(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Rr(t.userId),Rr(t.id);try{return{data:await I(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},h=await I(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Kc});if(h.error)throw h.error;const f=await h.json(),p=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(l=(o=h.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);u[`${x}Page`]=w}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(R(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await I(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await I(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await I(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(R(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await I(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await I(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(R(r))return{data:null,error:r};throw r}}}function Gc(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ar={debug:!!(globalThis&&Df()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Bf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class _0 extends Bf{}async function b0(e,t,r){Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new _0(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ar.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function S0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ff(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function k0(e){return parseInt(e,16)}function E0(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function j0(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:o,requestId:l,resources:u,scheme:h,uri:f,version:p}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=Ff(e.address),y=h?`${h}://${n}`:n,w=e.statement?`${e.statement}
`:"",x=`${y} wants you to sign in with your Ethereum account:
${v}

${w}`;let g=`URI: ${f}
Version: ${p}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),o&&(g+=`
Not Before: ${o.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let m=`
Resources:`;for(const d of u){if(!d||typeof d!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${d}`);m+=`
- ${d}`}g+=m}return`${x}
${g}`}class ae extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Ui extends ae{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function C0({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ae({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ae({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ae({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ae({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ae({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ae({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new ae({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ae({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(zf(a)){if(i.rp.id!==a)return new ae({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ae({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ae({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ae({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ae({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function T0({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ae({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ae({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(zf(n)){if(r.rpId!==n)return new ae({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ae({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ae({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ae({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class N0{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const O0=new N0;function P0(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=aa(e,["challenge","user","excludeCredentials"]),i=an(t).buffer,a=Object.assign(Object.assign({},r),{id:an(r.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:an(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function R0(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=aa(e,["challenge","allowCredentials"]),s=an(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const o=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},o),{id:an(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function A0(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:pr(new Uint8Array(e.response.attestationObject)),clientDataJSON:pr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function I0(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:pr(new Uint8Array(s.authenticatorData)),clientDataJSON:pr(new Uint8Array(s.clientDataJSON)),signature:pr(new Uint8Array(s.signature)),userHandle:s.userHandle?pr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function zf(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Jc(){var e,t;return!!(me()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function $0(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ui("Browser returned unexpected credential type",t)}:{data:null,error:new Ui("Empty credential response",t)}}catch(t){return{data:null,error:C0({error:t,options:e})}}}async function U0(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ui("Browser returned unexpected credential type",t)}:{data:null,error:new Ui("Empty credential response",t)}}catch(t){return{data:null,error:T0({error:t,options:e})}}}const L0={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},D0={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Li(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(t(a)){const o=n[i];t(o)?n[i]=Li(o,a):n[i]=Li(a)}else n[i]=a}return n}function M0(e,t){return Li(L0,e,t||{})}function B0(e,t){return Li(D0,e,t||{})}class F0{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!a)return{data:null,error:o};const l=s??O0.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=M0(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:h,error:f}=await $0({publicKey:u,signal:l});return h?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}case"request":{const u=B0(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:h,error:f}=await U0(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:l}));return h?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}}}catch(a){return R(a)?{data:null,error:a}:{data:null,error:new cr("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new vs("rpId is required for WebAuthn authentication")};try{if(!Jc())return{data:null,error:new cr("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(a){return R(a)?{data:null,error:a}:{data:null,error:new cr("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new vs("rpId is required for WebAuthn registration")};try{if(!Jc())return{data:null,error:new cr("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(h=>{var f;return(f=h.data)===null||f===void 0?void 0:f.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:o};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return R(a)?{data:null,error:a}:{data:null,error:new cr("Unexpected error in register",a)}}}}S0();const z0={url:Ly,storageKey:Dy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:My,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Yc(e,t,r){return await r()}const Ir={};class ys{get jwks(){var t,r;return(r=(t=Ir[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ir[this.storageKey]=Object.assign(Object.assign({},Ir[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ir[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ir[this.storageKey]=Object.assign(Object.assign({},Ir[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},z0),t);if(this.storageKey=i.storageKey,this.instanceID=(r=ys.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,ys.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&me()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new x0({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Mf(i.fetch),this.lock=i.lock||Yc,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&me()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=b0:this.lock=Yc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new F0(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Df()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Gc(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Gc(this.memoryStorage)),me()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${$f}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(me()&&(r=e0(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),me()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Hy(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return R(r)?this._returnResult({error:r}):this._returnResult({error:new cr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Xe}),{data:a,error:o}=i;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(R(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:h,password:f,options:p}=t;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await Pr(this.storage,this.storageKey)),i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:h,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:v,code_challenge_method:y},xform:Xe})}else if("phone"in t){const{phone:h,password:f,options:p}=t;i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Xe})}else throw new qs("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return await pe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await pe(this.storage,`${this.storageKey}-code-verifier`),R(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:o}=t;r=await I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:qc})}else if("phone"in t){const{phone:i,password:a,options:o}=t;r=await I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:qc})}else throw new qs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Or;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(R(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,a,o,l,u,h,f,p;let v,y;if("message"in t)v=t.message,y=t.signature;else{const{chain:w,wallet:x,statement:g,options:m}=t;let d;if(me())if(typeof x=="object")d=x;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")d=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");d=x}const _=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href),S=await d.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=Ff(S[0]);let E=(n=m==null?void 0:m.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const A=await d.request({method:"eth_chainId"});E=k0(A)}const T={domain:_.host,address:k,statement:g,uri:_.href,version:"1",chainId:E,nonce:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=m==null?void 0:m.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(h=m==null?void 0:m.signInWithEthereum)===null||h===void 0?void 0:h.resources};v=j0(T),y=await d.request({method:"personal_sign",params:[E0(v),k]})}try{const{data:w,error:x}=await I(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:y},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Xe});if(x)throw x;if(!w||!w.session||!w.user){const g=new Or;return this._returnResult({data:{user:null,session:null},error:g})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:x})}catch(w){if(R(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var r,n,s,i,a,o,l,u,h,f,p,v;let y,w;if("message"in t)y=t.message,w=t.signature;else{const{chain:x,wallet:g,statement:m,options:d}=t;let _;if(me())if(typeof g=="object")_=g;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))_=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(d!=null&&d.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=g}const S=new URL((r=d==null?void 0:d.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const k=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},d==null?void 0:d.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),m?{statement:m}:null));let E;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")E=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)E=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)y=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),w=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=d==null?void 0:d.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=d==null?void 0:d.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${d.signInWithSolana.notBefore}`]:[],...!((a=d==null?void 0:d.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${d.signInWithSolana.expirationTime}`]:[],...!((o=d==null?void 0:d.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${d.signInWithSolana.chainId}`]:[],...!((l=d==null?void 0:d.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${d.signInWithSolana.nonce}`]:[],...!((u=d==null?void 0:d.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${d.signInWithSolana.requestId}`]:[],...!((f=(h=d==null?void 0:d.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",...d.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const k=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=k}}try{const{data:x,error:g}=await I(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:pr(w)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Xe});if(g)throw g;if(!x||!x.session||!x.user){const m=new Or;return this._returnResult({data:{user:null,session:null},error:m})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:g})}catch(x){if(R(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const r=await sr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new qy;const{data:i,error:a}=await I(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Xe});if(await pe(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const o=new Or;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await pe(this.storage,`${this.storageKey}-code-verifier`),R(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,o=await I(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Xe}),{data:l,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const h=new Or;return this._returnResult({data:{user:null,session:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(R(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:o,options:l}=t;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await Pr(this.storage,this.storageKey));const{error:f}=await I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:o,options:l}=t,{data:u,error:h}=await I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h})}throw new qs("You must provide either an email or phone number.")}catch(o){if(await pe(this.storage,`${this.storageKey}-code-verifier`),R(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await I(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Xe});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(R(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await Pr(this.storage,this.storageKey));const u=await I(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:v0});return!((i=u.data)===null||i===void 0)&&i.url&&me()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(await pe(this.storage,`${this.storageKey}-code-verifier`),R(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new $e;const{error:s}=await I(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(R(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await I(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:o}=await I(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new qs("You must provide either an email or phone number and a type")}catch(r){if(R(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await sr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Wa:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await sr(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=qa()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=f0(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await I(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ut}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $e}:await I(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ut})})}catch(r){if(R(r))return Vy(r)&&(await this._removeSession(),await pe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new $e;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await Pr(this.storage,this.storageKey));const{data:u,error:h}=await I(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Ut});if(h)throw h;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await pe(this.storage,`${this.storageKey}-code-verifier`),R(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $e;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=Ha(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(R(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new $e;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(R(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!me())throw new Ks("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ks(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Mc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ks("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Mc("No code detected.");const{data:m,error:d}=await this._exchangeCodeForSession(t.code);if(d)throw d;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=t;if(!i||!o||!a||!u)throw new Ks("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(o);let p=h+f;l&&(p=parseInt(l));const v=p-h;v*1e3<=Dr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${f}s`);const y=p-f;h-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,h):h-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,h);const{data:w,error:x}=await this._getUser(i);if(x)throw x;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:p,refresh_token:a,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(n){if(R(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await sr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(Wy(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await pe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Zy(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Pr(this.storage,this.storageKey,!0));try{return await I(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await pe(this.storage,`${this.storageKey}-code-verifier`),R(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,l,u,h;const{data:f,error:p}=i;if(p)throw p;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await I(this.fetch,"GET",v,{headers:this.headers,jwt:(h=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return me()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(R(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:o,token:l,access_token:u,nonce:h}=t,f=await I(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:u,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Xe}),{data:p,error:v}=f;return v?this._returnResult({data:{user:null,session:null},error:v}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new Or}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:v}))}catch(s){if(await pe(this.storage,`${this.storageKey}-code-verifier`),R(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await I(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await n0(async s=>(s>0&&await r0(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await I(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Xe})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Va(i)&&Date.now()+a-n<Dr})}catch(n){if(this._debug(r,"error",n),R(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),me()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await sr(this.storage,this.storageKey);if(s&&this.userStorage){let a=await sr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Mr(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:qa()}else if(s&&!s.user&&!s.user){const a=await sr(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await pe(this.storage,this.storageKey+"-user"),await Mr(this.storage,this.storageKey,s)):s.user=qa()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Wa;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Wa}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Va(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new $e;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new la;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new $e;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),R(i)){const a={data:null,error:i};return Va(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await pe(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Mr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Vc(s);await Mr(this.storage,this.storageKey,i)}else{const s=Vc(r);await Mr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await pe(this.storage,this.storageKey),await pe(this.storage,this.storageKey+"-code-verifier"),await pe(this.storage,this.storageKey+"-user"),this.userStorage&&await pe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&me()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Dr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Dr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Dr}ms, refresh threshold is ${tl} ticks`),s<=tl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Bf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!me()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Pr(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await I(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await I(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?A0(t.webauthn.credential_response):I0(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:l}=await I(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await I(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:P0(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:R0(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Ha(n.access_token);let a=null;i.aal&&(a=i.aal);let o=a;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const u=i.amr||[];return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await I(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new $e})})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new $e});const a=await I(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&me()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new $e});const a=await I(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&me()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await I(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new $e})})}catch(t){if(R(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await I(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new $e})})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+Fy>s)return n;const{data:i,error:a}=await I(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:v,error:y}=await this.getSession();if(y||!v.session)return this._returnResult({data:null,error:y});n=v.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:l}}=Ha(n);r!=null&&r.allowExpired||c0(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:a},error:null}}const h=d0(s.alg),f=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,f,a,Qy(`${o}.${l}`)))throw new sl("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}}}ys.nextInstanceID={};const W0=ys,V0="2.89.0";let Ln="";typeof Deno<"u"?Ln="deno":typeof document<"u"?Ln="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ln="react-native":Ln="node";const H0={"X-Client-Info":`supabase-js-${Ln}/${V0}`},q0={headers:H0},K0={schema:"public"},G0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},J0={};function ws(e){"@babel/helpers - typeof";return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ws(e)}function Y0(e,t){if(ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q0(e){var t=Y0(e,"string");return ws(t)=="symbol"?t:t+""}function X0(e,t,r){return(t=Q0(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qc(Object(r),!0).forEach(function(n){X0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Z0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ew=()=>Headers,tw=(e,t,r)=>{const n=Z0(r),s=ew();return async(i,a)=>{var o;const l=(o=await t())!==null&&o!==void 0?o:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,te(te({},a),{},{headers:u}))}};function rw(e){return e.endsWith("/")?e:e+"/"}function nw(e,t){var r,n;const{db:s,auth:i,realtime:a,global:o}=e,{db:l,auth:u,realtime:h,global:f}=t,p={db:te(te({},l),s),auth:te(te({},u),i),realtime:te(te({},h),a),storage:{},global:te(te(te({},f),o),{},{headers:te(te({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function sw(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(rw(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var iw=class extends W0{constructor(e){super(e)}},aw=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const i=sw(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,o={db:K0,realtime:J0,auth:te(te({},G0),{},{storageKey:a}),global:q0},l=nw(r??{},o);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=tw(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(te({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new Mv(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new Uy(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Iv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:a,lock:o,debug:l,throwOnError:u},h,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new iw({url:this.authUrl.href,headers:te(te({},p),h),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:a,lock:o,debug:l,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new ry(this.realtimeUrl.href,te(te({},e),{},{params:te(te({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const ow=(e,t,r)=>new aw(e,t,r);function lw(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}lw()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const uw="https://nnwzhoasmwcxvubmqavn.supabase.co",cw="sb_publishable_TxI9o1vApK6TB9JFoZjqzg_6bjbSIbS",Gs=ow(uw,cw),Wf=b.createContext({}),ua=()=>{const e=b.useContext(Wf);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},dw=({children:e})=>{const[t,r]=b.useState(null),[n,s]=b.useState(!0);b.useEffect(()=>{Gs.auth.getSession().then(({data:{session:l}})=>{r((l==null?void 0:l.user)??null),s(!1)});const{data:{subscription:o}}=Gs.auth.onAuthStateChange((l,u)=>{r((u==null?void 0:u.user)??null),s(!1)});return()=>o.unsubscribe()},[]);const i=async(o,l)=>{const{data:u,error:h}=await Gs.auth.signInWithPassword({email:o,password:l});if(h)throw h;return u},a=async()=>{const{error:o}=await Gs.auth.signOut();if(o)throw o};return c.jsx(Wf.Provider,{value:{user:t,loading:n,signIn:i,signOut:a},children:e})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),de=(e,t)=>{const r=b.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:l,...u},h)=>b.createElement("svg",{ref:h,...hw,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${fw(e)}`,o].join(" "),...u},[...t.map(([f,p])=>b.createElement(f,p)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=de("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=de("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=de("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=de("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=de("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=de("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=de("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=de("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=de("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=de("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=de("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=de("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=de("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=de("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=de("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=de("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=de("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=de("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=de("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Js({children:e}){const{user:t,signOut:r}=ua(),n=Er(),s=xn(),i=async()=>{try{await r(),s("/login")}catch(l){console.error("Error signing out:",l)}},a=[{path:"/clients",label:"Clients",icon:ww}],o=l=>n.pathname.startsWith(l);return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("header",{className:"bg-white border-b border-gray-200",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsx("div",{className:"flex items-center",children:c.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Surch Admin"})}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:"text-sm text-gray-600",children:t==null?void 0:t.email}),c.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-md transition-colors",children:[c.jsx(gw,{className:"w-4 h-4"}),"Sign Out"]})]})]})})}),c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsxs("div",{className:"flex gap-8",children:[c.jsx("aside",{className:"w-64 flex-shrink-0",children:c.jsx("nav",{className:"space-y-1",children:a.map(l=>{const u=l.icon;return c.jsxs(pn,{to:l.path,className:`flex items-center gap-3 px-4 py-2 rounded-lg transition-colors ${o(l.path)?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-100"}`,children:[c.jsx(u,{className:"w-5 h-5"}),l.label]},l.path)})})}),c.jsx("main",{className:"flex-1",children:e})]})})]})}function Ys({children:e}){const{user:t,loading:r}=ua();return r?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"text-gray-600",children:"Loading..."})}):t?e:c.jsx(Ho,{to:"/login",replace:!0})}function xw(){const[e,t]=b.useState(""),[r,n]=b.useState(""),[s,i]=b.useState(""),[a,o]=b.useState(!1),{signIn:l}=ua(),u=xn(),h=async f=>{f.preventDefault(),i(""),o(!0);try{await l(e,r),u("/clients")}catch(p){i(p.message||"Failed to sign in")}finally{o(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:c.jsx("div",{className:"max-w-md w-full",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:[c.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Surch Admin Portal"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Sign in to continue"}),s&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md text-red-700 text-sm",children:s}),c.jsxs("form",{onSubmit:h,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),c.jsx("input",{id:"email",type:"email",value:e,onChange:f=>t(f.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"admin@example.com"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),c.jsx("input",{id:"password",type:"password",value:r,onChange:f=>n(f.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:""})]}),c.jsx("button",{type:"submit",disabled:a,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?"Signing in...":"Sign In"})]})]})})})}const _w="http://localhost:3001";async function Se(e,t={}){const r=await fetch(`${_w}${e}`,{...t,headers:{"Content-Type":"application/json",...t.headers}});if(!r.ok){const n=await r.json().catch(()=>({error:"Request failed"})),s=n.error||`HTTP error! status: ${r.status}`,i=n.details?`${s}: ${n.details}`:s;throw new Error(i)}return r.json()}const Oe={getClients:()=>Se("/api/clients"),getClient:e=>Se(`/api/clients/${e}`),createClient:e=>Se("/api/clients",{method:"POST",body:JSON.stringify(e)}),updateClient:(e,t)=>Se(`/api/clients/${e}`,{method:"PUT",body:JSON.stringify(t)}),deleteClient:e=>Se(`/api/clients/${e}`,{method:"DELETE"}),triggerClientAutomation:e=>Se(`/api/clients/${e}/trigger-automation`,{method:"POST"}),getClientScrapes:e=>Se(`/api/clients/${e}/scrapes`),getScrape:e=>Se(`/api/scrapes/${e}`),getScrapeIntelligence:e=>Se(`/api/scrapes/${e}/intelligence`),getClientIntelligence:e=>Se(`/api/clients/${e}/intelligence`),getClientIntelligenceByType:(e,t)=>Se(`/api/clients/${e}/intelligence/${t}`),getClientContentIdeas:e=>Se(`/api/clients/${e}/content-ideas`),getDeliverySettings:e=>Se(`/api/clients/${e}/delivery-settings`),updateDeliverySettings:(e,t)=>Se(`/api/clients/${e}/delivery-settings`,{method:"PUT",body:JSON.stringify(t)}),getClientEmails:e=>Se(`/api/clients/${e}/emails`)};function Bi(e){"@babel/helpers - typeof";return Bi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bi(e)}function br(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Te(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function ht(e){Te(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Bi(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function bw(e,t){Te(2,arguments);var r=ht(e).getTime(),n=br(t);return new Date(r+n)}var Sw={};function ca(){return Sw}function kw(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Ew(e){return Te(1,arguments),e instanceof Date||Bi(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function jw(e){if(Te(1,arguments),!Ew(e)&&typeof e!="number")return!1;var t=ht(e);return!isNaN(Number(t))}function Cw(e,t){Te(2,arguments);var r=br(t);return bw(e,-r)}var Tw=864e5;function Nw(e){Te(1,arguments);var t=ht(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),s=r-n;return Math.floor(s/Tw)+1}function Fi(e){Te(1,arguments);var t=1,r=ht(e),n=r.getUTCDay(),s=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-s),r.setUTCHours(0,0,0,0),r}function Jf(e){Te(1,arguments);var t=ht(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var s=Fi(n),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var a=Fi(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=a.getTime()?r:r-1}function Ow(e){Te(1,arguments);var t=Jf(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=Fi(r);return n}var Pw=6048e5;function Rw(e){Te(1,arguments);var t=ht(e),r=Fi(t).getTime()-Ow(t).getTime();return Math.round(r/Pw)+1}function zi(e,t){var r,n,s,i,a,o,l,u;Te(1,arguments);var h=ca(),f=br((r=(n=(s=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&s!==void 0?s:h.weekStartsOn)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=ht(e),v=p.getUTCDay(),y=(v<f?7:0)+v-f;return p.setUTCDate(p.getUTCDate()-y),p.setUTCHours(0,0,0,0),p}function Yf(e,t){var r,n,s,i,a,o,l,u;Te(1,arguments);var h=ht(e),f=h.getUTCFullYear(),p=ca(),v=br((r=(n=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&s!==void 0?s:p.firstWeekContainsDate)!==null&&n!==void 0?n:(l=p.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=new Date(0);y.setUTCFullYear(f+1,0,v),y.setUTCHours(0,0,0,0);var w=zi(y,t),x=new Date(0);x.setUTCFullYear(f,0,v),x.setUTCHours(0,0,0,0);var g=zi(x,t);return h.getTime()>=w.getTime()?f+1:h.getTime()>=g.getTime()?f:f-1}function Aw(e,t){var r,n,s,i,a,o,l,u;Te(1,arguments);var h=ca(),f=br((r=(n=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&s!==void 0?s:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),p=Yf(e,t),v=new Date(0);v.setUTCFullYear(p,0,f),v.setUTCHours(0,0,0,0);var y=zi(v,t);return y}var Iw=6048e5;function $w(e,t){Te(1,arguments);var r=ht(e),n=zi(r,t).getTime()-Aw(r,t).getTime();return Math.round(n/Iw)+1}function z(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var Ot={y:function(t,r){var n=t.getUTCFullYear(),s=n>0?n:1-n;return z(r==="yy"?s%100:s,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):z(n+1,2)},d:function(t,r){return z(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return z(t.getUTCHours()%12||12,r.length)},H:function(t,r){return z(t.getUTCHours(),r.length)},m:function(t,r){return z(t.getUTCMinutes(),r.length)},s:function(t,r){return z(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,s=t.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,n-3));return z(i,r.length)}},$r={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Uw={G:function(t,r,n){var s=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var s=t.getUTCFullYear(),i=s>0?s:1-s;return n.ordinalNumber(i,{unit:"year"})}return Ot.y(t,r)},Y:function(t,r,n,s){var i=Yf(t,s),a=i>0?i:1-i;if(r==="YY"){var o=a%100;return z(o,2)}return r==="Yo"?n.ordinalNumber(a,{unit:"year"}):z(a,r.length)},R:function(t,r){var n=Jf(t);return z(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return z(n,r.length)},Q:function(t,r,n){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(s);case"QQ":return z(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,r,n){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(s);case"qq":return z(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,r,n){var s=t.getUTCMonth();switch(r){case"M":case"MM":return Ot.M(t,r);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,r,n){var s=t.getUTCMonth();switch(r){case"L":return String(s+1);case"LL":return z(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,r,n,s){var i=$w(t,s);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):z(i,r.length)},I:function(t,r,n){var s=Rw(t);return r==="Io"?n.ordinalNumber(s,{unit:"week"}):z(s,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):Ot.d(t,r)},D:function(t,r,n){var s=Nw(t);return r==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):z(s,r.length)},E:function(t,r,n){var s=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,r,n,s){var i=t.getUTCDay(),a=(i-s.weekStartsOn+8)%7||7;switch(r){case"e":return String(a);case"ee":return z(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,r,n,s){var i=t.getUTCDay(),a=(i-s.weekStartsOn+8)%7||7;switch(r){case"c":return String(a);case"cc":return z(a,r.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,r,n){var s=t.getUTCDay(),i=s===0?7:s;switch(r){case"i":return String(i);case"ii":return z(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,r,n){var s=t.getUTCHours(),i=s/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,r,n){var s=t.getUTCHours(),i;switch(s===12?i=$r.noon:s===0?i=$r.midnight:i=s/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,r,n){var s=t.getUTCHours(),i;switch(s>=17?i=$r.evening:s>=12?i=$r.afternoon:s>=4?i=$r.morning:i=$r.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Ot.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Ot.H(t,r)},K:function(t,r,n){var s=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(s,{unit:"hour"}):z(s,r.length)},k:function(t,r,n){var s=t.getUTCHours();return s===0&&(s=24),r==="ko"?n.ordinalNumber(s,{unit:"hour"}):z(s,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Ot.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Ot.s(t,r)},S:function(t,r){return Ot.S(t,r)},X:function(t,r,n,s){var i=s._originalDate||t,a=i.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return ed(a);case"XXXX":case"XX":return lr(a);case"XXXXX":case"XXX":default:return lr(a,":")}},x:function(t,r,n,s){var i=s._originalDate||t,a=i.getTimezoneOffset();switch(r){case"x":return ed(a);case"xxxx":case"xx":return lr(a);case"xxxxx":case"xxx":default:return lr(a,":")}},O:function(t,r,n,s){var i=s._originalDate||t,a=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+Zc(a,":");case"OOOO":default:return"GMT"+lr(a,":")}},z:function(t,r,n,s){var i=s._originalDate||t,a=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+Zc(a,":");case"zzzz":default:return"GMT"+lr(a,":")}},t:function(t,r,n,s){var i=s._originalDate||t,a=Math.floor(i.getTime()/1e3);return z(a,r.length)},T:function(t,r,n,s){var i=s._originalDate||t,a=i.getTime();return z(a,r.length)}};function Zc(e,t){var r=e>0?"-":"+",n=Math.abs(e),s=Math.floor(n/60),i=n%60;if(i===0)return r+String(s);var a=t;return r+String(s)+a+z(i,2)}function ed(e,t){if(e%60===0){var r=e>0?"-":"+";return r+z(Math.abs(e)/60,2)}return lr(e,t)}function lr(e,t){var r=t||"",n=e>0?"-":"+",s=Math.abs(e),i=z(Math.floor(s/60),2),a=z(s%60,2);return n+i+r+a}var td=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},Qf=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Lw=function(t,r){var n=t.match(/(P+)(p+)?/)||[],s=n[1],i=n[2];if(!i)return td(t,r);var a;switch(s){case"P":a=r.dateTime({width:"short"});break;case"PP":a=r.dateTime({width:"medium"});break;case"PPP":a=r.dateTime({width:"long"});break;case"PPPP":default:a=r.dateTime({width:"full"});break}return a.replace("{{date}}",td(s,r)).replace("{{time}}",Qf(i,r))},Dw={p:Qf,P:Lw},Mw=["D","DD"],Bw=["YY","YYYY"];function Fw(e){return Mw.indexOf(e)!==-1}function zw(e){return Bw.indexOf(e)!==-1}function rd(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Ww={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Vw=function(t,r,n){var s,i=Ww[t];return typeof i=="string"?s=i:r===1?s=i.one:s=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Ja(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var Hw={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qw={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Kw={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Gw={date:Ja({formats:Hw,defaultWidth:"full"}),time:Ja({formats:qw,defaultWidth:"full"}),dateTime:Ja({formats:Kw,defaultWidth:"full"})},Jw={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Yw=function(t,r,n,s){return Jw[t]};function Pn(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",s;if(n==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,a=r!=null&&r.width?String(r.width):i;s=e.formattingValues[a]||e.formattingValues[i]}else{var o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}var u=e.argumentCallback?e.argumentCallback(t):t;return s[u]}}var Qw={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Xw={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Zw={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ex={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},tx={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},rx={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},nx=function(t,r){var n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},sx={ordinalNumber:nx,era:Pn({values:Qw,defaultWidth:"wide"}),quarter:Pn({values:Xw,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Pn({values:Zw,defaultWidth:"wide"}),day:Pn({values:ex,defaultWidth:"wide"}),dayPeriod:Pn({values:tx,defaultWidth:"wide",formattingValues:rx,defaultFormattingWidth:"wide"})};function Rn(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;var a=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?ax(o,function(f){return f.test(a)}):ix(o,function(f){return f.test(a)}),u;u=e.valueCallback?e.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;var h=t.slice(a.length);return{value:u,rest:h}}}function ix(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function ax(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function ox(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var s=n[0],i=t.match(e.parsePattern);if(!i)return null;var a=e.valueCallback?e.valueCallback(i[0]):i[0];a=r.valueCallback?r.valueCallback(a):a;var o=t.slice(s.length);return{value:a,rest:o}}}var lx=/^(\d+)(th|st|nd|rd)?/i,ux=/\d+/i,cx={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},dx={any:[/^b/i,/^(a|c)/i]},hx={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fx={any:[/1/i,/2/i,/3/i,/4/i]},px={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},mx={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},gx={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},vx={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},yx={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},wx={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},xx={ordinalNumber:ox({matchPattern:lx,parsePattern:ux,valueCallback:function(t){return parseInt(t,10)}}),era:Rn({matchPatterns:cx,defaultMatchWidth:"wide",parsePatterns:dx,defaultParseWidth:"any"}),quarter:Rn({matchPatterns:hx,defaultMatchWidth:"wide",parsePatterns:fx,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Rn({matchPatterns:px,defaultMatchWidth:"wide",parsePatterns:mx,defaultParseWidth:"any"}),day:Rn({matchPatterns:gx,defaultMatchWidth:"wide",parsePatterns:vx,defaultParseWidth:"any"}),dayPeriod:Rn({matchPatterns:yx,defaultMatchWidth:"any",parsePatterns:wx,defaultParseWidth:"any"})},_x={code:"en-US",formatDistance:Vw,formatLong:Gw,formatRelative:Yw,localize:sx,match:xx,options:{weekStartsOn:0,firstWeekContainsDate:1}},bx=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Sx=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kx=/^'([^]*?)'?$/,Ex=/''/g,jx=/[a-zA-Z]/;function Ge(e,t,r){var n,s,i,a,o,l,u,h,f,p,v,y,w,x;Te(2,arguments);var g=String(t),m=ca(),d=(n=(s=void 0)!==null&&s!==void 0?s:m.locale)!==null&&n!==void 0?n:_x,_=br((i=(a=(o=(l=void 0)!==null&&l!==void 0?l:void 0)!==null&&o!==void 0?o:m.firstWeekContainsDate)!==null&&a!==void 0?a:(u=m.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(_>=1&&_<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var S=br((f=(p=(v=(y=void 0)!==null&&y!==void 0?y:void 0)!==null&&v!==void 0?v:m.weekStartsOn)!==null&&p!==void 0?p:(w=m.locale)===null||w===void 0||(x=w.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&f!==void 0?f:0);if(!(S>=0&&S<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!d.localize)throw new RangeError("locale must contain localize property");if(!d.formatLong)throw new RangeError("locale must contain formatLong property");var k=ht(e);if(!jw(k))throw new RangeError("Invalid time value");var E=kw(k),T=Cw(k,E),A={firstWeekContainsDate:_,weekStartsOn:S,locale:d,_originalDate:k},C=g.match(Sx).map(function(P){var U=P[0];if(U==="p"||U==="P"){var ee=Dw[U];return ee(P,d.formatLong)}return P}).join("").match(bx).map(function(P){if(P==="''")return"'";var U=P[0];if(U==="'")return Cx(P);var ee=Uw[U];if(ee)return zw(P)&&rd(P,t,String(e)),Fw(P)&&rd(P,t,String(e)),ee(T,P,d.localize,A);if(U.match(jx))throw new RangeError("Format string contains an unescaped latin alphabet character `"+U+"`");return P}).join("");return C}function Cx(e){var t=e.match(kx);return t?t[1].replace(Ex,"'"):e}function Tx(){const e=Er(),[t,r]=b.useState([]),[n,s]=b.useState(!0),[i,a]=b.useState(""),[o,l]=b.useState("");b.useEffect(()=>{var f;u(),(f=e.state)!=null&&f.message&&(l(e.state.message),window.history.replaceState({},document.title),setTimeout(()=>l(""),5e3))},[e.state]);const u=async()=>{try{s(!0);const f=await Oe.getClients();r(f)}catch(f){a(f.message)}finally{s(!1)}},h=f=>{const p="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium";return f==="active"?`${p} bg-green-100 text-green-800`:`${p} bg-gray-100 text-gray-800`};return n?c.jsx("div",{className:"text-gray-600",children:"Loading clients..."}):i?c.jsxs("div",{className:"text-red-600",children:["Error: ",i]}):c.jsxs("div",{children:[o&&c.jsxs("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-md flex items-center gap-2",children:[c.jsx(pw,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),c.jsx("span",{className:"text-sm text-green-700",children:o})]}),c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Clients"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your clients"})]}),c.jsxs(pn,{to:"/clients/new",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[c.jsx(Kf,{className:"w-4 h-4"}),"New Client"]})]}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Website"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created At"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"5",className:"px-6 py-8 text-center text-gray-500",children:"No clients found. Create your first client to get started."})}):t.map(f=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm font-medium text-gray-900",children:f.name})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("a",{href:f.website,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 inline-flex items-center gap-1",children:[f.website,c.jsx(xs,{className:"w-3 h-3"})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:h(f.status),children:f.status})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Ge(new Date(f.created_at),"MMM d, yyyy")}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:c.jsx(pn,{to:`/clients/${f.id}`,className:"text-blue-600 hover:text-blue-900",children:"View"})})]},f.id))})]})})]})}function Nx(){const[e,t]=b.useState({name:"",website:"",status:"active",n8n_webhook_url:""}),[r,n]=b.useState(""),[s,i]=b.useState(!1),a=xn(),o=u=>{if(!u)return!0;try{return new URL(u),!0}catch{return!1}},l=async u=>{if(u.preventDefault(),n(""),e.n8n_webhook_url&&!o(e.n8n_webhook_url)){n("Please enter a valid webhook URL");return}i(!0);try{await Oe.createClient(e),a("/clients")}catch(h){n(h.message||"Failed to create client")}finally{i(!1)}};return c.jsxs("div",{children:[c.jsxs(pn,{to:"/clients",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[c.jsx(Vf,{className:"w-4 h-4"}),"Back to Clients"]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 max-w-2xl",children:[c.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Create New Client"}),r&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md text-red-700 text-sm",children:r}),c.jsxs("form",{onSubmit:l,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Client Name ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{id:"name",type:"text",value:e.name,onChange:u=>t({...e,name:u.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Acme Corporation"})]}),c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"website",className:"block text-sm font-medium text-gray-700 mb-1",children:["Website ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{id:"website",type:"url",value:e.website,onChange:u=>t({...e,website:u.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://example.com"}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Must be unique"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),c.jsxs("select",{id:"status",value:e.status,onChange:u=>t({...e,status:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"paused",children:"Paused"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"n8n_webhook_url",className:"block text-sm font-medium text-gray-700 mb-1",children:"n8n Webhook URL"}),c.jsx("input",{id:"n8n_webhook_url",type:"url",value:e.n8n_webhook_url,onChange:u=>t({...e,n8n_webhook_url:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://your-n8n-instance.com/webhook/..."}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Optional. Leave empty to disable automation for this client."})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?"Creating...":"Create Client"}),c.jsx(pn,{to:"/clients",className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]})]})}function Ox({clientId:e}){const[t,r]=b.useState([]),[n,s]=b.useState(!0),[i,a]=b.useState(""),[o,l]=b.useState(null),[u,h]=b.useState({}),[f,p]=b.useState({});b.useEffect(()=>{v()},[e]);const v=async()=>{try{s(!0);const x=await Oe.getClientScrapes(e);r(x)}catch(x){a(x.message)}finally{s(!1)}},y=async x=>{const g=o===x?null:x;if(l(g),g&&!u[g]&&!f[g]){p({...f,[g]:!0});try{const m=await Oe.getScrapeIntelligence(g);h({...u,[g]:m})}catch(m){console.error("Error loading intelligence:",m)}finally{p({...f,[g]:!1})}}},w=x=>{const g="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium";return x==="completed"?`${g} bg-green-100 text-green-800`:x==="failed"?`${g} bg-red-100 text-red-800`:`${g} bg-yellow-100 text-yellow-800`};return n?c.jsx("div",{className:"text-gray-600",children:"Loading scrapes..."}):i?c.jsxs("div",{className:"text-red-600",children:["Error: ",i]}):c.jsx("div",{children:c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:t.length===0?c.jsx("div",{className:"p-8 text-center text-gray-500",children:"No scrape history found for this client."}):c.jsx("div",{className:"divide-y divide-gray-200",children:t.map(x=>{const g=o===x.id,m=Array.isArray(x.urls_scraped)?x.urls_scraped.length:0;return c.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:[c.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>y(x.id),children:[c.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ge(new Date(x.scrape_date),"MMM d, yyyy h:mm a")}),c.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[m," URL",m!==1?"s":""," scraped",x.intelligence_count!==void 0&&x.intelligence_count>0&&c.jsxs("span",{className:"ml-2 inline-flex items-center gap-1",children:[c.jsx(Xc,{className:"w-3 h-3"}),x.intelligence_count," intelligence item",x.intelligence_count!==1?"s":""]})]})]}),c.jsx("span",{className:w(x.status),children:x.status})]}),g?c.jsx(Mi,{className:"w-5 h-5 text-gray-400"}):c.jsx(Di,{className:"w-5 h-5 text-gray-400"})]}),g&&c.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 space-y-4",children:[m>0&&c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"URLs Scraped"}),c.jsx("ul",{className:"list-disc list-inside space-y-1",children:x.urls_scraped.map((d,_)=>{const S=typeof d=="string"?d:d&&typeof d=="object"&&d.url?d.url:"",k=S||(d?JSON.stringify(d):"N/A");return c.jsx("li",{className:"text-sm text-gray-600 break-all",children:S?c.jsx("a",{href:S,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:k}):c.jsx("span",{children:k})},_)})})]}),x.intelligence_count>0&&c.jsxs("div",{children:[c.jsxs("h4",{className:"text-sm font-medium text-gray-900 mb-2 flex items-center gap-2",children:[c.jsx(Xc,{className:"w-4 h-4"}),"AI Intelligence (",x.intelligence_count," item",x.intelligence_count!==1?"s":"",")"]}),f[x.id]?c.jsx("div",{className:"text-sm text-gray-500",children:"Loading intelligence..."}):u[x.id]?c.jsx("div",{className:"space-y-3",children:u[x.id].length===0?c.jsx("p",{className:"text-sm text-gray-500",children:"No intelligence found for this scrape."}):u[x.id].map(d=>c.jsxs("div",{className:"bg-gray-50 p-3 rounded-md border border-gray-200",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-medium text-gray-900 capitalize",children:d.intelligence_type}),d.version&&c.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["v",d.version]})]}),c.jsx("span",{className:"text-xs text-gray-500",children:Ge(new Date(d.created_at),"MMM d, yyyy h:mm a")})]}),d.content&&c.jsxs("p",{className:"text-sm text-gray-700 line-clamp-2",children:[d.content.substring(0,150),d.content.length>150?"...":""]})]},d.id))}):null]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Extracted Data"}),c.jsxs("details",{className:"mt-2",children:[c.jsx("summary",{className:"cursor-pointer text-sm text-blue-600 hover:text-blue-800 mb-2",children:"View JSON"}),c.jsx("pre",{className:"bg-gray-50 p-4 rounded-md overflow-auto text-xs",children:JSON.stringify(x.data_extracted,null,2)})]})]})]})]},x.id)})})})})}function Px({clientId:e}){const[t,r]=b.useState([]),[n,s]=b.useState(!0),[i,a]=b.useState("");b.useEffect(()=>{o()},[e]);const o=async()=>{try{s(!0);const u=await Oe.getClientIntelligenceByType(e,"profile");r(u)}catch(u){a(u.message)}finally{s(!1)}},l=u=>{let h={};try{typeof u.metadata=="string"?h=JSON.parse(u.metadata):h=u.metadata||{}}catch{}return c.jsxs("div",{className:"space-y-6",children:[u.content&&c.jsxs("div",{children:[c.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-3",children:"Client Overview"}),c.jsx("div",{className:"prose prose-sm max-w-none",children:c.jsx("p",{className:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap",children:u.content})})]}),h.services&&c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Services"}),Array.isArray(h.services)?c.jsx("div",{className:"space-y-4",children:h.services.map((f,p)=>c.jsxs("div",{className:"border-l-2 border-blue-500 pl-4",children:[f.title&&c.jsx("h5",{className:"text-sm font-medium text-gray-900 mb-1",children:f.title}),f.description&&c.jsx("p",{className:"text-sm text-gray-700",children:f.description})]},p))}):c.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:h.services})]}),h.valueProposition&&c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Value Proposition"}),c.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:h.valueProposition})]}),h.brandTone&&c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Brand Tone"}),c.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:h.brandTone})]}),h.primaryFocusAreas&&c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Primary Focus Areas"}),Array.isArray(h.primaryFocusAreas)?c.jsx("ul",{className:"list-disc list-inside space-y-1",children:h.primaryFocusAreas.map((f,p)=>c.jsx("li",{className:"text-sm text-gray-700",children:f},p))}):c.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:h.primaryFocusAreas})]}),h.idealContentAngles&&c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Ideal Content Angles"}),Array.isArray(h.idealContentAngles)?c.jsx("ul",{className:"list-disc list-inside space-y-1",children:h.idealContentAngles.map((f,p)=>c.jsx("li",{className:"text-sm text-gray-700",children:f},p))}):c.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:h.idealContentAngles})]})]})};return n?c.jsx("div",{className:"text-gray-600",children:"Loading intelligence..."}):i?c.jsxs("div",{className:"text-red-600",children:["Error: ",i]}):c.jsx("div",{children:c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:t.length===0?c.jsx("div",{className:"p-8 text-center text-gray-500",children:"No AI intelligence found for this client."}):c.jsx("div",{className:"divide-y divide-gray-200",children:t.map(u=>c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-gray-900 capitalize",children:u.intelligence_type}),u.version&&c.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Version ",u.version]}),u.scrape&&c.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["From scrape: ",Ge(new Date(u.scrape.scrape_date),"MMM d, yyyy h:mm a"),u.scrape_id&&c.jsxs("span",{className:"ml-1 text-gray-400",children:["(ID: ",u.scrape_id.substring(0,8),"...)"]})]}),!u.scrape&&u.scrape_id&&c.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Scrape ID: ",u.scrape_id.substring(0,8),"..."]})]}),c.jsxs("div",{className:"text-xs text-gray-500",children:["Created: ",Ge(new Date(u.created_at),"MMM d, yyyy h:mm a")]})]}),c.jsx("div",{className:"mt-4",children:l(u)}),u.metadata&&Object.keys(u.metadata).length>0&&c.jsxs("details",{className:"mt-4",children:[c.jsx("summary",{className:"cursor-pointer text-sm text-blue-600 hover:text-blue-800 mb-2",children:"View Raw Metadata"}),c.jsx("pre",{className:"bg-gray-50 p-4 rounded-md overflow-auto text-xs",children:JSON.stringify(u.metadata,null,2)})]})]},u.id))})})})}function Rx({clientId:e}){const[t,r]=b.useState([]),[n,s]=b.useState(!0),[i,a]=b.useState(""),[o,l]=b.useState(null),[u,h]=b.useState({});b.useEffect(()=>{f()},[e]);const f=async()=>{try{s(!0);const d=await Oe.getClientContentIdeas(e);r(d)}catch(d){a(d.message)}finally{s(!1)}},p=d=>{l(o===d?null:d)},v=d=>{try{return new URL(d).hostname.replace("www.","")}catch{return d}},y=d=>{var E,T;let _={};try{d.research_context&&(_=typeof d.research_context=="string"?JSON.parse(d.research_context):d.research_context)}catch{_=d.research_context||{}}if(!_||Object.keys(_).length===0)try{d.research?_=typeof d.research=="string"?JSON.parse(d.research):d.research:(E=d.metadata)!=null&&E.research&&(_=typeof d.metadata.research=="string"?JSON.parse(d.metadata.research):d.metadata.research)}catch{_=d.research||((T=d.metadata)==null?void 0:T.research)||{}}const S=_.trending_topics||_.trending_keywords||[],k=_.source_links||_.sources||[];return!S||S.length===0?null:c.jsxs("div",{className:"space-y-6",children:[S.length>0&&c.jsx("div",{children:S.map((A,C)=>{const P=typeof A=="string"?{title:A,summary:null}:A;return c.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-100 last:border-0",children:[c.jsx("h5",{className:"text-sm font-semibold text-gray-900 mb-2",children:P.title||P.name||A}),P.summary&&c.jsx("p",{className:"text-sm text-gray-700 leading-relaxed mb-3",children:P.summary}),P.relevance&&c.jsx("p",{className:"text-sm text-gray-600 leading-relaxed mb-3",children:P.relevance}),P.source_links&&Array.isArray(P.source_links)&&P.source_links.length>0&&c.jsx("div",{className:"mt-3 space-y-1",children:P.source_links.map((U,ee)=>{const ft=typeof U=="string"?U:U.url||U,jr=typeof U=="string"?v(ft):U.label||U.title||v(ft);return c.jsxs("a",{href:ft,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-800 inline-flex items-center gap-1.5 group",children:[c.jsx(xs,{className:"w-3 h-3 flex-shrink-0"}),c.jsx("span",{className:"group-hover:underline",children:jr})]},ee)})})]},C)})}),k.length>0&&c.jsxs("div",{children:[c.jsx("h5",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Sources"}),c.jsx("div",{className:"space-y-2",children:k.map((A,C)=>{const P=typeof A=="string"?A:A.url||A,U=typeof A=="string"?v(P):A.title||v(P);return c.jsxs("a",{href:P,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 inline-flex items-center gap-2 group",children:[c.jsx(xs,{className:"w-3 h-3 flex-shrink-0"}),c.jsx("span",{className:"group-hover:underline",children:U})]},C)})})]})]})},w=(d,_)=>{h(S=>{const k={...S};return k[d]===_?delete k[d]:k[d]=_,k})},x=d=>c.jsxs("div",{className:"mt-4 pt-4 border-t-2 border-purple-300 bg-white rounded-lg p-6",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(qf,{className:"w-5 h-5 text-purple-600"}),c.jsx("h4",{className:"text-base font-bold text-gray-900",children:"Video Script"})]}),c.jsxs("div",{className:"space-y-4",children:[(d.headline||d.title)&&c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:"Script Title"}),c.jsx("p",{className:"text-lg font-bold text-gray-900",children:d.headline||d.title})]}),d.hook&&c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Opening Hook"}),c.jsx("p",{className:"text-base text-gray-800 leading-relaxed italic pl-4 border-l-4 border-purple-400",children:d.hook})]}),(d.angle||d.key_message)&&c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Main Talking Points"}),c.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:c.jsx("p",{className:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap",children:d.angle||d.key_message})})]}),d.format&&c.jsx("div",{className:"pt-2 border-t border-gray-200",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(il,{className:"w-4 h-4 text-gray-400"}),c.jsx("span",{className:"text-xs text-gray-500",children:"Suggested Format:"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:d.format})]})})]})]}),g=d=>{var k,E,T,A;let _=[];try{d.content_ideas?_=Array.isArray(d.content_ideas)?d.content_ideas:JSON.parse(d.content_ideas):d.ideas?_=Array.isArray(d.ideas)?d.ideas:JSON.parse(d.ideas):(k=d.metadata)!=null&&k.content_ideas?_=Array.isArray(d.metadata.content_ideas)?d.metadata.content_ideas:JSON.parse(d.metadata.content_ideas):(E=d.metadata)!=null&&E.ideas&&(_=Array.isArray(d.metadata.ideas)?d.metadata.ideas:JSON.parse(d.metadata.ideas))}catch{_=d.content_ideas||d.ideas||((T=d.metadata)==null?void 0:T.content_ideas)||((A=d.metadata)==null?void 0:A.ideas)||[]}if(!_||_.length===0)return null;const S=u[d.id];return c.jsx("div",{className:"space-y-4",children:c.jsx("div",{className:"grid gap-4",children:_.map((C,P)=>{const U=typeof C=="string"?{headline:C,hook:null,angle:null,format:null}:C,ee=S===P;return c.jsxs("div",{className:"bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-50 border-2 border-purple-200 rounded-xl shadow-sm hover:shadow-md transition-all cursor-pointer",onClick:()=>w(d.id,P),children:[c.jsx("div",{className:"p-5",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[(U.headline||U.title)&&c.jsx("h6",{className:"text-base font-bold text-gray-900 mb-2",children:U.headline||U.title}),U.hook&&!ee&&c.jsxs("p",{className:"text-sm text-gray-600 italic line-clamp-2",children:['"',U.hook,'"']}),U.format&&c.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[c.jsx(il,{className:"w-4 h-4 text-purple-600 flex-shrink-0"}),c.jsx("span",{className:"text-xs font-medium text-purple-700",children:U.format})]})]}),c.jsx("div",{className:"ml-4 flex-shrink-0",children:ee?c.jsx(Mi,{className:"w-5 h-5 text-purple-600"}):c.jsx(Di,{className:"w-5 h-5 text-gray-400"})})]})}),ee&&x(U)]},P)})})})};if(n)return c.jsx("div",{className:"text-gray-600",children:"Loading content ideas..."});if(i)return c.jsxs("div",{className:"text-red-600",children:["Error: ",i]});const m=d=>{const _="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium";return d==="completed"||d==="ready"?`${_} bg-green-100 text-green-800`:d==="pending"||d==="processing"?`${_} bg-yellow-100 text-yellow-800`:`${_} bg-gray-100 text-gray-800`};return c.jsx("div",{children:c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:t.length===0?c.jsxs("div",{className:"p-12 text-center",children:[c.jsx(Ga,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500 font-medium",children:"No content ideas available"}),c.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Content ideation runs will appear here once generated."})]}):c.jsx("div",{className:"divide-y divide-gray-200",children:t.map(d=>{const _=o===d.id,S=d.status||"ready";return c.jsxs("div",{className:"p-5 hover:bg-gray-50 transition-colors",children:[c.jsxs("div",{className:"flex items-start justify-between cursor-pointer",onClick:()=>p(d.id),children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("div",{className:"text-base font-semibold text-gray-900",children:Ge(new Date(d.created_at),"MMM d, yyyy")}),d.version&&c.jsxs("span",{className:"text-xs px-2.5 py-1 bg-blue-50 text-blue-700 rounded-md font-medium",children:["Version ",d.version]}),m(S)&&c.jsx("span",{className:m(S),children:S})]}),c.jsxs("div",{className:"text-xs text-gray-500 space-y-0.5",children:[d.scrape&&c.jsxs("div",{children:["Based on website data from ",Ge(new Date(d.scrape.scrape_date),"MMM d, yyyy")]}),d.intelligence&&c.jsxs("div",{children:["Using ",d.intelligence.intelligence_type," profile",d.intelligence.version&&` (v${d.intelligence.version})`]})]})]}),_?c.jsx(Mi,{className:"w-5 h-5 text-gray-400 flex-shrink-0 mt-1"}):c.jsx(Di,{className:"w-5 h-5 text-gray-400 flex-shrink-0 mt-1"})]}),_&&c.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(yw,{className:"w-5 h-5 text-gray-600"}),c.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Research & Trends"})]}),c.jsx("div",{className:"bg-gray-50 rounded-lg p-5 border border-gray-200",children:y(d)||c.jsx("p",{className:"text-sm text-gray-500 italic",children:"No research data available for this ideation run."})})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-5",children:[c.jsx(Ga,{className:"w-5 h-5 text-purple-600"}),c.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Content Ideas"})]}),g(d)||c.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg border border-gray-200",children:[c.jsx(Ga,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),c.jsx("p",{className:"text-sm text-gray-500",children:"No content ideas available for this run."})]})]})]})]},d.id)})})})})}function Ax({clientId:e}){const[t,r]=b.useState([]),[n,s]=b.useState(!0),[i,a]=b.useState(""),[o,l]=b.useState(null);b.useEffect(()=>{u()},[e]);const u=async()=>{try{s(!0);const v=await Oe.getClientEmails(e);r(v)}catch(v){a(v.message)}finally{s(!1)}},h=v=>{l(o===v?null:v)},f=v=>{const y="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium";return v==="sent"?`${y} bg-green-100 text-green-800`:v==="failed"?`${y} bg-red-100 text-red-800`:`${y} bg-yellow-100 text-yellow-800`},p=v=>{if(Array.isArray(v))return v.filter(y=>y&&y.trim()!=="");if(typeof v=="string")try{const y=JSON.parse(v);if(Array.isArray(y))return y.filter(w=>w&&w.trim()!=="")}catch{return v.split(",").map(y=>y.trim()).filter(y=>y!=="")}return[]};return n?c.jsx("div",{className:"text-gray-600",children:"Loading emails..."}):i?c.jsxs("div",{className:"text-red-600",children:["Error: ",i]}):c.jsx("div",{children:c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:t.length===0?c.jsxs("div",{className:"p-12 text-center",children:[c.jsx(ui,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500 font-medium",children:"No email logs found"}),c.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Email delivery logs will appear here once emails are sent."})]}):c.jsx("div",{className:"divide-y divide-gray-200",children:t.map(v=>{var g,m;const y=o===v.id,w=p(v.recipient),x=w.length;return c.jsxs("div",{className:"p-5 hover:bg-gray-50 transition-colors",children:[c.jsxs("div",{className:"flex items-start justify-between cursor-pointer",onClick:()=>h(v.id),children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("div",{className:"text-base font-semibold text-gray-900",children:Ge(new Date(v.sent_at),"MMM d, yyyy h:mm a")}),c.jsx("span",{className:f(v.status),children:v.status}),v.email_type&&c.jsx("span",{className:"text-xs px-2.5 py-1 bg-blue-50 text-blue-700 rounded-md font-medium capitalize",children:v.email_type})]}),c.jsx("div",{className:"text-sm text-gray-900 font-medium mb-1 line-clamp-1",children:v.subject}),c.jsx("div",{className:"text-xs text-gray-500",children:x>0?`Sent to ${x} recipient${x!==1?"s":""}`:"No recipients"})]}),y?c.jsx(Mi,{className:"w-5 h-5 text-gray-400 flex-shrink-0 mt-1"}):c.jsx(Di,{className:"w-5 h-5 text-gray-400 flex-shrink-0 mt-1"})]}),y&&c.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 space-y-6",children:[w.length>0&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(ui,{className:"w-5 h-5 text-gray-600"}),c.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Recipients"})]}),c.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:c.jsx("div",{className:"space-y-2",children:w.map((d,_)=>c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[c.jsx(ui,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),c.jsx("span",{children:d})]},_))})})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(il,{className:"w-5 h-5 text-gray-600"}),c.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Email Content"})]}),c.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:c.jsx("div",{className:"p-4 max-h-96 overflow-y-auto",children:v.body?c.jsx("div",{className:"email-body-content",dangerouslySetInnerHTML:{__html:v.body},style:{fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"14px",lineHeight:"1.6",color:"#374151"}}):c.jsx("p",{className:"text-sm text-gray-500 italic",children:"No email body content available."})})})]}),(v.email_type||v.metadata)&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(mw,{className:"w-5 h-5 text-gray-600"}),c.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Metadata"})]}),c.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:c.jsxs("div",{className:"space-y-3",children:[v.email_type&&c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"Email Type"}),c.jsx("p",{className:"text-sm text-gray-900 capitalize",children:v.email_type})]}),((g=v.metadata)==null?void 0:g.frequency)&&c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"Frequency"}),c.jsx("p",{className:"text-sm text-gray-900 capitalize",children:v.metadata.frequency})]}),((m=v.metadata)==null?void 0:m.content_ideas_id)&&c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"Content Ideas ID"}),c.jsx("p",{className:"text-sm text-gray-600 font-mono",children:v.metadata.content_ideas_id})]}),v.metadata&&Object.keys(v.metadata).length>0&&c.jsxs("details",{className:"mt-4",children:[c.jsx("summary",{className:"cursor-pointer text-sm text-blue-600 hover:text-blue-800 mb-2",children:"View Full Metadata"}),c.jsx("pre",{className:"bg-white p-3 rounded-md overflow-auto text-xs border border-gray-200",children:JSON.stringify(v.metadata,null,2)})]})]})})]})]})]},v.id)})})})})}function Ix({clientId:e}){const[t,r]=b.useState(null),[n,s]=b.useState(!0),[i,a]=b.useState(""),[o,l]=b.useState(!1),[u,h]=b.useState(!1),[f,p]=b.useState(""),[v,y]=b.useState([""]),[w,x]=b.useState("weekly"),[g,m]=b.useState(!0);b.useEffect(()=>{d()},[e]);const d=async()=>{try{s(!0);const C=await Oe.getDeliverySettings(e);C?(r(C),y(C.recipients&&C.recipients.length>0?[...C.recipients,""]:[""]),x(C.frequency||"weekly"),m(C.is_active!==void 0?C.is_active:!0)):(r(null),y([""]),x("weekly"),m(!0))}catch(C){a(C.message)}finally{s(!1)}},_=()=>{v.length<5&&y([...v,""])},S=C=>{if(v.length>1){const P=v.filter((U,ee)=>ee!==C);y(P)}},k=(C,P)=>{const U=[...v];U[C]=P,y(U)},E=async()=>{p("");const C=v.filter(P=>P&&P.trim()!=="");if(C.length===0){p("At least one recipient email is required");return}if(C.length>5){p("Maximum 5 recipients allowed");return}h(!0);try{const P=await Oe.updateDeliverySettings(e,{recipients:C,frequency:w,is_active:g});r(P),l(!1),await d()}catch(P){p(P.message||"Failed to save delivery settings")}finally{h(!1)}},T=()=>{t?(y(t.recipients&&t.recipients.length>0?[...t.recipients,""]:[""]),x(t.frequency||"weekly"),m(t.is_active!==void 0?t.is_active:!0)):(y([""]),x("weekly"),m(!0)),l(!1),p("")};if(n)return c.jsx("div",{className:"text-gray-600",children:"Loading delivery settings..."});if(i)return c.jsxs("div",{className:"text-red-600",children:["Error: ",i]});const A=v.filter(C=>C&&C.trim()!=="");return c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Delivery Settings"}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Configure where and how often content ideas are delivered to this client."})]}),!o&&c.jsxs("button",{onClick:()=>l(!0),className:"inline-flex items-center gap-2 px-3 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:[c.jsx(Hf,{className:"w-4 h-4"}),"Edit"]})]}),f&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md text-red-700 text-sm",children:f}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recipients"}),o?c.jsxs("div",{className:"space-y-2",children:[v.map((C,P)=>c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"flex-1",children:c.jsx("input",{type:"email",value:C,onChange:U=>k(P,U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"email@example.com"})}),v.length>1&&c.jsx("button",{type:"button",onClick:()=>S(P),className:"p-2 text-gray-400 hover:text-red-600 transition-colors",children:c.jsx(cu,{className:"w-4 h-4"})})]},P)),v.length<5&&c.jsxs("button",{type:"button",onClick:_,className:"inline-flex items-center gap-2 px-3 py-2 text-sm text-blue-600 hover:text-blue-800 border border-blue-200 rounded-md hover:bg-blue-50 transition-colors",children:[c.jsx(Kf,{className:"w-4 h-4"}),"Add Recipient"]}),v.length>=5&&c.jsx("p",{className:"text-xs text-gray-500",children:"Maximum 5 recipients reached"})]}):c.jsx("div",{children:A.length>0?c.jsx("div",{className:"space-y-1",children:A.map((C,P)=>c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[c.jsx(ui,{className:"w-4 h-4 text-gray-400"}),C]},P))}):c.jsx("p",{className:"text-sm text-gray-500",children:"No recipients configured yet."})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery frequency"}),o?c.jsxs("div",{children:[c.jsxs("select",{value:w,onChange:C=>x(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[c.jsx("option",{value:"weekly",children:"Weekly"}),c.jsx("option",{value:"biweekly",children:"Biweekly"}),c.jsx("option",{value:"monthly",children:"Monthly"})]}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Content ideas will be generated and sent automatically based on this schedule."})]}):c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-900 capitalize",children:w}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Content ideas will be generated and sent automatically based on this schedule."})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery status"}),o?c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{type:"button",onClick:()=>m(!g),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${g?"bg-blue-600":"bg-gray-300"}`,children:c.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${g?"translate-x-6":"translate-x-1"}`})}),c.jsx("span",{className:"text-sm text-gray-700",children:g?"Active":"Paused"})]}):c.jsx("div",{className:"flex items-center gap-3",children:c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${(t==null?void 0:t.is_active)!==!1?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:(t==null?void 0:t.is_active)!==!1?"Active":"Paused"})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last sent"}),c.jsx("p",{className:"text-sm text-gray-900",children:t!=null&&t.last_sent_at?Ge(new Date(t.last_sent_at),"MMM d, yyyy h:mm a"):"Never"})]}),o&&c.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[c.jsxs("button",{onClick:E,disabled:u,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[c.jsx(Gf,{className:"w-4 h-4"}),u?"Saving...":"Save Changes"]}),c.jsx("button",{onClick:T,disabled:u,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]})]})}function $x({isOpen:e,onClose:t,onConfirm:r,clientName:n}){const[s,i]=b.useState("");if(!e)return null;const a=()=>{s==="DELETE"&&(r(),i(""))},o=()=>{i(""),t()};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Delete Client"}),c.jsx("button",{onClick:o,className:"text-gray-400 hover:text-gray-600 transition-colors",children:c.jsx(cu,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("p",{className:"text-sm text-gray-700 mb-4",children:["This action will permanently delete ",c.jsx("strong",{children:n})," and remove all visibility of this client from the portal."]}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Related records (scrapes, intelligence, emails) will be handled according to your database foreign key settings."}),c.jsxs("p",{className:"text-sm font-medium text-gray-900 mb-2",children:["Type ",c.jsx("span",{className:"text-red-600 font-mono",children:"DELETE"})," to confirm:"]}),c.jsx("input",{type:"text",value:s,onChange:l=>i(l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Type DELETE to confirm"})]}),c.jsxs("div",{className:"flex gap-3 justify-end",children:[c.jsx("button",{onClick:o,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),c.jsx("button",{onClick:a,disabled:s!=="DELETE",className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Delete Client"})]})]})})})}function Ux(){const{id:e}=sv(),t=xn(),[r,n]=b.useState(null),[s,i]=b.useState(!0),[a,o]=b.useState(""),[l,u]=b.useState("overview"),[h,f]=b.useState(!1),[p,v]=b.useState(""),[y,w]=b.useState(!1),[x,g]=b.useState(!1),[m,d]=b.useState({status:"",n8n_webhook_url:""}),[_,S]=b.useState(!1),[k,E]=b.useState(""),[T,A]=b.useState(!1),[C,P]=b.useState(!1),[U,ee]=b.useState(""),[ft,jr]=b.useState(null);b.useEffect(()=>{Cr(),_n()},[e]);const Cr=async()=>{try{i(!0);const M=await Oe.getClient(e);n(M),d({status:M.status,n8n_webhook_url:M.n8n_webhook_url||""})}catch(M){o(M.message)}finally{i(!1)}},_n=async()=>{try{const M=await Oe.getClientScrapes(e);if(Array.isArray(M)&&M.length>0){const bn=M.filter(da=>da.scrape_date).sort((da,Xf)=>new Date(Xf.scrape_date)-new Date(da.scrape_date))[0];bn&&jr(bn.scrape_date)}else jr(null)}catch(M){console.warn("Unable to load last scrape date",M)}},N=()=>{g(!0),d({status:r.status,n8n_webhook_url:r.n8n_webhook_url||""}),E("")},L=()=>{g(!1),d({status:r.status,n8n_webhook_url:r.n8n_webhook_url||""}),E("")},D=M=>{if(!M)return!0;try{return new URL(M),!0}catch{return!1}},J=async()=>{if(E(""),m.n8n_webhook_url&&!D(m.n8n_webhook_url)){E("Please enter a valid webhook URL");return}S(!0);try{const M=await Oe.updateClient(e,{status:m.status,n8n_webhook_url:m.n8n_webhook_url||null});n(M),g(!1),await Cr()}catch(M){E(M.message||"Failed to update client")}finally{S(!1)}},ie=async()=>{ee(""),P(!0);try{await Oe.deleteClient(e),t("/clients",{state:{message:"Client deleted successfully"}})}catch(M){ee(M.message||"Failed to delete client"),P(!1)}},tr=M=>{const bn="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium";return M==="active"?`${bn} bg-green-100 text-green-800`:`${bn} bg-gray-100 text-gray-800`},pt=async()=>{v(""),w(!1),f(!0);try{await Oe.triggerClientAutomation(e),w(!0),setTimeout(()=>w(!1),3e3)}catch(M){v(M.message||"Failed to trigger automation")}finally{f(!1)}},rr=r&&r.status==="active"&&r.n8n_webhook_url;if(s)return c.jsx("div",{className:"text-gray-600",children:"Loading client..."});if(a)return c.jsxs("div",{className:"text-red-600",children:["Error: ",a]});if(!r)return c.jsx("div",{className:"text-gray-600",children:"Client not found"});const mt=[{id:"overview",label:"Overview"},{id:"scrapes",label:"Scrape History"},{id:"intelligence",label:"AI Intelligence"},{id:"content-ideas",label:"Content Ideas"},{id:"emails",label:"Email Logs"}];return c.jsxs("div",{children:[c.jsxs(pn,{to:"/clients",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[c.jsx(Vf,{className:"w-4 h-4"}),"Back to Clients"]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:r.name}),c.jsxs("a",{href:r.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 inline-flex items-center gap-1 mt-1",children:[r.website,c.jsx(xs,{className:"w-4 h-4"})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[!x&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:N,className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:[c.jsx(Hf,{className:"w-4 h-4"}),"Edit Client"]}),c.jsxs("button",{onClick:()=>A(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:[c.jsx(vw,{className:"w-4 h-4"}),"Delete Client"]})]}),x&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:L,className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:[c.jsx(cu,{className:"w-4 h-4"}),"Cancel"]}),c.jsxs("button",{onClick:J,disabled:_,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[c.jsx(Gf,{className:"w-4 h-4"}),_?"Saving...":"Save Changes"]})]}),!x&&c.jsx("span",{className:tr(r.status),children:r.status})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6 pt-6 border-t border-gray-200",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-gray-500",children:"Created At"}),c.jsx("div",{className:"text-sm font-medium text-gray-900 mt-1",children:Ge(new Date(r.created_at),"MMM d, yyyy h:mm a")})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-gray-500",children:"Updated At"}),c.jsx("div",{className:"text-sm font-medium text-gray-900 mt-1",children:Ge(new Date(r.updated_at),"MMM d, yyyy h:mm a")})]})]}),c.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Automation Settings"}),c.jsxs("div",{className:"space-y-4",children:[k&&c.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md text-red-700 text-sm",children:k}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),x?c.jsxs("select",{value:m.status,onChange:M=>d({...m,status:M.target.value}),className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"paused",children:"Paused"})]}):c.jsx("div",{className:"mt-1",children:c.jsx("span",{className:tr(r.status),children:r.status})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"n8n Webhook URL"}),x?c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"url",value:m.n8n_webhook_url,onChange:M=>d({...m,n8n_webhook_url:M.target.value}),className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://your-n8n-instance.com/webhook/..."}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Leave empty to disable automation for this client."})]}):c.jsx("div",{className:"mt-1",children:r.n8n_webhook_url?c.jsxs("a",{href:r.n8n_webhook_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 inline-flex items-center gap-1 break-all",children:[r.n8n_webhook_url,c.jsx(xs,{className:"w-3 h-3 flex-shrink-0"})]}):c.jsx("span",{className:"text-sm text-gray-500",children:"Not configured"})})]}),c.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[c.jsxs("button",{onClick:pt,disabled:!rr||h,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[c.jsx(qf,{className:"w-4 h-4"}),h?"Triggering...":"Scrape Website"]}),!rr&&c.jsx("p",{className:"mt-2 text-sm text-gray-500",children:r.status!=="active"?"Client must be active to trigger automation.":"Configure a webhook URL to enable automation."}),rr&&c.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["This scraping process takes about 10 minutes. You can skip if the last scrape was recent",ft?` (last scrape: ${Ge(new Date(ft),"MMM d, yyyy h:mm a")})`:" (no previous scrapes found)","."]}),p&&c.jsx("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded-md text-red-700 text-sm",children:p}),y&&c.jsx("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded-md text-green-700 text-sm",children:"Automation triggered successfully!"})]})]})]})]}),c.jsx("div",{className:"border-b border-gray-200 mb-6",children:c.jsx("nav",{className:"-mb-px flex space-x-8",children:mt.map(M=>c.jsx("button",{onClick:()=>u(M.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${l===M.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:M.label},M.id))})}),c.jsxs("div",{children:[l==="overview"&&c.jsx("div",{className:"space-y-6",children:c.jsx(Ix,{clientId:e})}),l==="scrapes"&&c.jsx(Ox,{clientId:e}),l==="intelligence"&&c.jsx(Px,{clientId:e}),l==="content-ideas"&&c.jsx(Rx,{clientId:e}),l==="emails"&&c.jsx(Ax,{clientId:e})]}),c.jsx($x,{isOpen:T,onClose:()=>{A(!1),ee("")},onConfirm:ie,clientName:r==null?void 0:r.name}),U&&c.jsx("div",{className:"fixed bottom-4 right-4 p-4 bg-red-50 border border-red-200 rounded-md text-red-700 text-sm shadow-lg max-w-md",children:U})]})}function Lx(){const{user:e,loading:t}=ua();return t?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"text-gray-600",children:"Loading..."})}):c.jsxs(xv,{children:[c.jsx(Ur,{path:"/login",element:e?c.jsx(Ho,{to:"/clients",replace:!0}):c.jsx(xw,{})}),c.jsx(Ur,{path:"/",element:c.jsx(Ys,{children:c.jsx(Js,{children:c.jsx(Ho,{to:"/clients",replace:!0})})})}),c.jsx(Ur,{path:"/clients",element:c.jsx(Ys,{children:c.jsx(Js,{children:c.jsx(Tx,{})})})}),c.jsx(Ur,{path:"/clients/new",element:c.jsx(Ys,{children:c.jsx(Js,{children:c.jsx(Nx,{})})})}),c.jsx(Ur,{path:"/clients/:id",element:c.jsx(Ys,{children:c.jsx(Js,{children:c.jsx(Ux,{})})})})]})}function Dx(){return c.jsx(Cv,{children:c.jsx(dw,{children:c.jsx(Lx,{})})})}Ya.createRoot(document.getElementById("root")).render(c.jsx(fd.StrictMode,{children:c.jsx(Dx,{})}));
